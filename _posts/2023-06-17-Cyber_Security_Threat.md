---
layout: post
title: KsiÄ…Å¼ka
subtitle: Cyber Security Threat
author: Oleh Danchivskyi
cover-img: /assets/img/Cyber/Logo-1.jpg
thumbnail-img: /assets/img/Cyber/Logo.png
share-img: /assets/img/Cyber/Logo-1.jpg
tags: [CyberbezpieczeÅ„stwo, BezpieczeÅ„swto, Ataki, Metody]
---


# 1. Wprowadzenie

Dzisiejszy Å›wiat sprawia, Å¼e wszyscy sÄ… bardziej podatni na cyberataki. NiezaleÅ¼nie od tego, czy interesuje nas relatywnie nowy Å›wiat cyberbezpieczeÅ„stwa jako profesjonalista, czy po prostu interesuje nas ochrona w Internecie i mediach spoÅ‚ecznoÅ›ciowych.

## 1.1. Podstawowe terminy i definicje

#### PoniÅ¼ej przedstawiono podstawowe terminy i definicje:
+ Uwierzytelnianie (ang. Authentication) â€“ proces identyfikacji toÅ¼samoÅ›ci uÅ¼ytkownika, upewniajÄ…c siÄ™, Å¼e moÅ¼e on mieÄ‡ dostÄ™p do systemu i/lub plikÃ³w.
+ Botnet (and. Botnet) â€“ poÅ‚Ä…czenie sÅ‚Ã³w â€robotâ€ i â€sieÄ‡â€, botnet to sieÄ‡ komputerÃ³w, ktÃ³re zostaÅ‚y zainfekowane wirusem i teraz nieprzerwanie pracujÄ… w celu stworzenia luk w zabezpieczeniach. Ataki te majÄ… formÄ™ wydobywania bitcoinÃ³w, wysyÅ‚ania spamu i atakÃ³w DDoS.
+ Domena (ang. Domain) â€“ szereg komputerÃ³w i powiÄ…zanych z nimi urzÄ…dzeÅ„ peryferyjnych (routerÃ³w, drukarek, skanerÃ³w), ktÃ³re sÄ… poÅ‚Ä…czone jako jedna caÅ‚oÅ›Ä‡.
+ Szyfrowanie (ang. Encryption) â€“ kodowanie uÅ¼ywane do ochrony informacji przed hakerami. PomyÅ›l o tym jak o szyfrze uÅ¼ywanym do wysyÅ‚ania Å›ciÅ›le tajnej zaszyfrowanej wiadomoÅ›ci szpiegowskiej.
+ Firewall â€“ kaÅ¼da technologia, czy to oprogramowanie, czy sprzÄ™t, uÅ¼ywana do powstrzymywania intruzÃ³w.
+ Haker, Czarny Kapelusz (ang. Black Hat) â€“ kaÅ¼dy haker, ktÃ³ry prÃ³buje uzyskaÄ‡ nieautoryzowany dostÄ™p do systemu z zamiarem wyrzÄ…dzenia szkody, zniszczenia lub kradzieÅ¼y. MogÄ… byÄ‡ motywowane chciwoÅ›ciÄ…, agendÄ… politycznÄ… lub po prostu nudÄ….
+ Haker, BiaÅ‚y Kapelusz (ang. White Hat) â€“ haker zapraszany do testowania systemÃ³w komputerowych i serwerÃ³w w poszukiwaniu luk w celu poinformowania hosta, gdzie naleÅ¼y poprawiÄ‡ zabezpieczenia.
+ ZÅ‚oÅ›liwe oprogramowanie (ang. Malware) â€“ poÅ‚Ä…czenie sÅ‚Ã³w â€zÅ‚oÅ›liweâ€ i â€oprogramowanieâ€, opisujÄ…ce szerokÄ… gamÄ™ zÅ‚ego oprogramowania uÅ¼ywanego do infekowania i/lub uszkadzania systemu. Ransomware, robaki, wirusy i trojany sÄ… uwaÅ¼ane za zÅ‚oÅ›liwe oprogramowanie. NajczÄ™Å›ciej dostarczany za poÅ›rednictwem wiadomoÅ›ci e-mail ze spamem.
+ KoÅ„ trojaÅ„ski (ang. Trojan Horse) â€“ jeszcze jedna forma zÅ‚oÅ›liwego oprogramowania, tym razem wprowadzajÄ…cy w bÅ‚Ä…d program komputerowy, ktÃ³ry wyglÄ…da niewinnie, ale w rzeczywistoÅ›ci pozwala hakerowi dostaÄ‡ siÄ™ do twojego systemu przez tylne drzwi, umoÅ¼liwiajÄ…c mu kontrolowanie twojego komputera.
+ Wirus (and. Virus) â€“ zÅ‚oÅ›liwe oprogramowanie, ktÃ³re zmienia, uszkadza lub niszczy informacje, a nastÄ™pnie jest przekazywane do innych systemÃ³w, zwykle w inny sposÃ³b nieszkodliwy (np. wysyÅ‚anie wiadomoÅ›ci e-mail).
+ Robak (ang. Worm) â€“ zÅ‚oÅ›liwe oprogramowanie, ktÃ³re moÅ¼e siÄ™ powielaÄ‡ w celu rozprzestrzeniania siÄ™ na inne komputery w sieci. SzczegÃ³lnie paskudne robaki mogÄ… byÄ‡ po prostu sposobem na spowolnienie systemu poprzez pochÅ‚anianie zasobÃ³w lub popeÅ‚nianie exploitÃ³w, takich jak instalowanie tylnych drzwi lub kradzieÅ¼ danych.
+ InÅ¼ynieria spoÅ‚eczna (ang. Social Engineering) â€“ ta strategia opiera siÄ™ na manipulacji uÅ¼ytkownikami i psychologii czÅ‚owieka. Pracownik moÅ¼e otrzymaÄ‡ wiadomoÅ›Ä‡ e-mail od socjotechnika, ktÃ³ry rzekomo pracuje w dziale IT, aby skÅ‚oniÄ‡ go do ujawnienia prywatnych informacji zamiast prÃ³by wykrycia sÅ‚aboÅ›ci oprogramowania w systemie firmowym.
+ Etyczne hakowanie (ang. Ethical Hacking) â€“ za zgodÄ… wÅ‚aÅ›ciciela wÅ‚amuje siÄ™ do sieci w celu uzyskania poufnych informacji â€“ caÅ‚kowicie legalnie. Zazwyczaj ta technika jest uÅ¼ywana do sprawdzania sÅ‚abych punktÃ³w infrastruktury.
+ Cyber ataki (ang. Cyber Attack) â€“ kaÅ¼da prÃ³ba naruszenia granicy bezpieczeÅ„stwa Å›rodowiska logicznego. Atak moÅ¼e koncentrowaÄ‡ siÄ™ na zbieraniu danych wywiadowczych, zakÅ‚Ã³caniu dziaÅ‚alnoÅ›ci firmy, wykorzystywaniu sÅ‚abych punktÃ³w, Å›ledzeniu celÃ³w, przerywaniu pracy, uzyskiwaniu wartoÅ›ci, szkodzeniu zasobom logicznym lub fizycznym lub wykorzystywaniu zasobÃ³w systemowych w celu umoÅ¼liwienia atakÃ³w na inne cele.


## 1.2. Logi systemowe

Logi systemowe â€“ to sÄ… zdarzenie, ktÃ³re miaÅ‚o miejsce w okreÅ›lonym czasie i moÅ¼e zawieraÄ‡ metadane, ktÃ³re nadajÄ… mu kontekst. Innymi sÅ‚owami logi to sÄ… zapisy wszystkiego co siÄ™ dzieje w systemie, w tym zdarzeÅ„ takich jak transakcje, bÅ‚Ä™dy i wÅ‚amania. Dane te mogÄ… byÄ‡ przesyÅ‚ane na rÃ³Å¼ne sposoby i mogÄ… byÄ‡ w formacie ustrukturyzowanym, czÄ™Å›ciowo ustrukturyzowanym i nieustrukturyzowanym. 

<p align="center">
  Rys.1.2.1. WyglÄ…d logÃ³w systemowych
<br>
  <img src="\assets\img\Cyber\1.png" width="650" alt="logi">
  <br>
  Å¹rÃ³dÅ‚o: https://tiny.pl/c71cb
</p>

#### Podstawowa struktura logÃ³w: 
+ Sygnatura czasowa (ang. The timestamp) â€“ dokÅ‚adny czas wystÄ…pienia zarejestrowanego zdarzenia. 
+ Informacje o uÅ¼ytkowniku (ang. User Information)
+ Informacje o zdarzeniu (ang. Event Information) â€“ jaka zostaÅ‚a podjÄ™ta akcja.

#### SkÄ…d pochodzÄ… logi?
Prawie wszystko tworzy jakÄ…Å› wersjÄ™ logÃ³w, np.: 
â€¢	Aplikacje
â€¢	Kontenery
â€¢	Bazy danych 
â€¢	Zapory ogniowe 
â€¢	Punkty koÅ„cowe 
â€¢	UrzÄ…dzenia IoT
â€¢	Sieci
â€¢	Serwery
â€¢	UsÅ‚ugi internetowe


<p align="center">
  Rys.1.2.2. Rodzaje logÃ³w
<br>
  <img src="\assets\img\Cyber\2.png" width="650" alt="logi-1">
  <br>
  Å¹rÃ³dÅ‚o: https://www.crowdstrike.com/wp-content/uploads/2022/09/logfilesources-768x713.webp
</p>

#### Rodzaje dziennikÃ³w:
+ KaÅ¼dy komponent generuje inny typ danych i kaÅ¼dy komponent gromadzi te dane we wÅ‚asnych zapisach logÃ³w. Istnieje wiele rodzajÃ³w dziennikÃ³w, np.:
+ Dziennik zdarzeÅ„ : dziennik wysokiego poziomu, w ktÃ³rym rejestrowane sÄ… informacje o ruchu sieciowym i uÅ¼ytkowaniu, takie jak prÃ³by logowania, nieudane prÃ³by podania hasÅ‚a i zdarzenia aplikacji.
+ Dziennik serwera : dokument tekstowy zawierajÄ…cy zapis dziaÅ‚aÅ„ zwiÄ…zanych z okreÅ›lonym serwerem w okreÅ›lonym przedziale czasu.
+ Dziennik systemowy (syslog) : zapis zdarzeÅ„ systemu operacyjnego. Obejmuje komunikaty startowe, zmiany systemowe, nieoczekiwane zamkniÄ™cia, bÅ‚Ä™dy i ostrzeÅ¼enia oraz inne waÅ¼ne procesy. Systemy Windows, Linux i macOS generujÄ… dzienniki systemowe.
+ Dzienniki autoryzacji i dzienniki dostÄ™pu : zawierajÄ… listÄ™ osÃ³b lub botÃ³w uzyskujÄ…cych dostÄ™p do okreÅ›lonych aplikacji lub plikÃ³w.
+ Dzienniki zmian : zawierajÄ… chronologicznÄ… listÄ™ zmian wprowadzonych w aplikacji lub pliku.
+ Dzienniki dostÄ™pnoÅ›ci : Å›ledÅº wydajnoÅ›Ä‡, czas pracy i dostÄ™pnoÅ›Ä‡ systemu.
+ Dzienniki zasobÃ³w : dostarczajÄ… informacji o problemach z Å‚Ä…cznoÅ›ciÄ… i ograniczeniach pojemnoÅ›ci.
+ Dzienniki zagroÅ¼eÅ„ : zawierajÄ… informacje o ruchu w systemie, plikach lub aplikacjach, ktÃ³re pasujÄ… do predefiniowanego profilu zabezpieczeÅ„ w zaporze.


### Jak to dziaÅ‚a dokÅ‚adnie?

#### Proces generowania logÃ³w zazwyczaj obejmuje nastÄ™pujÄ…ce kroki:
+ Zdarzenie: W pewnym momencie wystÄ™puje zdarzenie, ktÃ³re jest wartoÅ›ciowe do zarejestrowania w logach. MoÅ¼e to byÄ‡ na przykÅ‚ad inicjalizacja systemu, Å¼Ä…danie uÅ¼ytkownika, bÅ‚Ä…d, informacja diagnostyczna itp.
+ Logowanie: Gdy zdarzenie wystÄ…pi, aplikacja lub komponent odpowiedzialny za logowanie zapisuje informacje na temat zdarzenia w logach. Informacje te mogÄ… zawieraÄ‡ czas zdarzenia, identyfikator zdarzenia, priorytet, opis zdarzenia, informacje diagnostyczne itp.
+ SkÅ‚adowanie: Zapisane logi sÄ… przechowywane w okreÅ›lonym miejscu, takim jak pliki na dysku, baza danych lub system logÃ³w. MogÄ… byÄ‡ rÃ³wnieÅ¼ przesyÅ‚ane do zdalnych serwerÃ³w logÃ³w w przypadku rozproszonych systemÃ³w.
+ Analiza i monitorowanie: Administratorzy systemÃ³w i programiÅ›ci mogÄ… przeglÄ…daÄ‡, analizowaÄ‡ i monitorowaÄ‡ zapisane logi. MogÄ… korzystaÄ‡ z rÃ³Å¼nych narzÄ™dzi do przeszukiwania i filtrowania logÃ³w w celu znalezienia informacji potrzebnych do rozwiÄ…zywania problemÃ³w lub monitorowania dziaÅ‚ania systemu.

#### PrzykÅ‚adem logu moÅ¼e byÄ‡ nastÄ™pujÄ…cy wpis:
~~~
2023-06-08 10:30:15 [INFO] Aplikacja zostaÅ‚a pomyÅ›lnie uruchomiona.
~~~

W powyÅ¼szym przykÅ‚adzie mamy informacjÄ™ o czasie zdarzenia (10:30:15, 8 czerwca 2023 roku), priorytecie logu (INFO) oraz opisie zdarzenia (Aplikacja zostaÅ‚a pomyÅ›lnie uruchomiona). Ten wpis moÅ¼e byÄ‡ przydatny podczas monitorowania systemu, aby potwierdziÄ‡, Å¼e aplikacja zostaÅ‚a poprawnie uruchomiona o okreÅ›lonym czasie.

Logi mogÄ… byÄ‡ bardziej rozbudowane i zawieraÄ‡ dodatkowe informacje, takie jak identyfikatory sesji, informacje o Å¼Ä…daniach uÅ¼ytkownika, Å›lad stosu bÅ‚Ä™du, szczegÃ³Å‚owe informacje diagnostyczne itp. Wszystko zaleÅ¼y od potrzeb i konfiguracji systemu logowania.


## 2. Ataki modelu ISO/OSI

Ataki mogÄ… miec miejsce na rÃ³Å¼nych poziomach modeli sieci z rÃ³Å¼nymi protokoÅ‚ami. PoniÅ¼ej przedstawiam ataki z kaÅ¼dej warstwy. 

<p align="center">
  Rys.2.1. Ataki na rÃ³Å¼ne warstwy modelu OSI
<br>
  <img src="\assets\img\Cyber\3.png" width="650" alt="iso/osi">
  <br>
  Å¹rÃ³dÅ‚o: https://miro.medium.com/v2/resize:fit:720/format:webp/1*eWE2QWWS6jS9o3EqTibncw.png
</p>


## 2.1. Ataki na warstwie aplikacji

Osoba atakujÄ…ca moÅ¼e zaatakowaÄ‡ aplikacjÄ™ za pomocÄ… ataku warstwy 7 lub warstwy aplikacji. W tych atakach, podobnie jak w przypadku atakÃ³w na infrastrukturÄ™ SYN flood, osoba atakujÄ…ca prÃ³buje przeciÄ…Å¼yÄ‡ okreÅ›lone funkcje aplikacji, aby uniemoÅ¼liwiÄ‡ dostÄ™p do aplikacji lub uniemoÅ¼liwiÄ‡ jej reagowanie dla uprawnionych uÅ¼ytkownikÃ³w. PoniÅ¼ej przedstawiam listÄ™ atakÃ³w wraz z wyjaÅ›nieniem i przykÅ‚adami.


### 2.1.1. XSS 

Cross-site scripting (znany rÃ³wnieÅ¼ jako XSS) to luka w zabezpieczeniach internetowych, ktÃ³ra umoÅ¼liwia atakujÄ…cemu naruszenie interakcji uÅ¼ytkownikÃ³w z podatnÄ… aplikacjÄ…. UmoÅ¼liwia atakujÄ…cemu obejÅ›cie tej samej zasady pochodzenia, ktÃ³ra ma na celu oddzielenie rÃ³Å¼nych witryn internetowych od siebie. Luki w zabezpieczeniach zwiÄ…zane z atakami typu cross-site scripting zwykle umoÅ¼liwiajÄ… atakujÄ…cemu podszywanie siÄ™ pod uÅ¼ytkownika bÄ™dÄ…cego ofiarÄ…, wykonywanie wszelkich czynnoÅ›ci, ktÃ³re uÅ¼ytkownik jest w stanie wykonaÄ‡, oraz uzyskiwanie dostÄ™pu do dowolnych danych uÅ¼ytkownika. JeÅ›li uÅ¼ytkownik bÄ™dÄ…cy ofiarÄ… ma uprzywilejowany dostÄ™p do aplikacji, osoba atakujÄ…ca moÅ¼e uzyskaÄ‡ peÅ‚nÄ… kontrolÄ™ nad wszystkimi funkcjami i danymi aplikacji.

#### Jak dziaÅ‚a XSS?

Cross-site scripting polega na manipulowaniu podatnÄ… na ataki witrynÄ… internetowÄ…, tak aby zwracaÅ‚a uÅ¼ytkownikom szkodliwy kod JavaScript. Kiedy zÅ‚oÅ›liwy kod jest wykonywany w przeglÄ…darce ofiary, atakujÄ…cy moÅ¼e caÅ‚kowicie zagroziÄ‡ swojej interakcji z aplikacjÄ….


<p align="center">
  Rys.2.1.1.1. DziaÅ‚anie XSS
<br>
  <img src="\assets\img\Cyber\4.png" width="650" alt="xss">
  <br>
  Å¹rÃ³dÅ‚o: https://portswigger.net/web-security/images/cross-site-scripting.svg
</p>


### Rodzaje atakÃ³w XSS:
+ OdzwierciedlajÄ…cy XSS â€“ zÅ‚oÅ›liwy skrypt pochodzi z bieÅ¼Ä…cego Å¼Ä…dania http

##### Oto prosty przykÅ‚ad odzwierciedlonej luki w zabezpieczeniach XSS:
~~~
https://insecure-website.com/status?message=All+is+well.
<p>Status: All is well.</p>
~~~

Aplikacja nie wykonuje Å¼adnego innego przetwarzania danych, wiÄ™c osoba atakujÄ…ca moÅ¼e Å‚atwo skonstruowaÄ‡ taki atak:

~~~
https://insecure-website.com/status?message=<script>/*+Bad+stuff+here...+*/</script>

<p>Status: <script>/* Bad stuff here...*/</script></p>
~~~

<br>

+ Zapisany XSS â€“ zÅ‚oÅ›liwy skrypt pochodzi z bazy danych serwisu

Oto prosty przykÅ‚ad zapisanej luki XSS. Aplikacja tablicy ogÅ‚oszeÅ„ umoÅ¼liwia uÅ¼ytkownikom przesyÅ‚anie wiadomoÅ›ci, ktÃ³re sÄ… wyÅ›wietlane innym uÅ¼ytkownikom:

~~~
<ğ‘>ğ»ğ‘’ğ‘™ğ‘™ğ‘œ,ğ‘¡â„ğ‘–ğ‘  ğ‘–ğ‘  ğ‘šğ‘¦ ğ‘šğ‘’ğ‘ ğ‘ ğ‘ğ‘”ğ‘’!</ğ‘>
~~~

Aplikacja nie wykonuje Å¼adnego innego przetwarzania danych, wiÄ™c osoba atakujÄ…ca moÅ¼e Å‚atwo wysÅ‚aÄ‡ wiadomoÅ›Ä‡, ktÃ³ra atakuje innych uÅ¼ytkownikÃ³w:
~~~
<ğ‘><ğ‘ ğ‘ğ‘Ÿğ‘–ğ‘ğ‘¡>/âˆ— ğµğ‘ğ‘‘ ğ‘ ğ‘¡ğ‘¢ğ‘“ğ‘“ â„ğ‘’ğ‘Ÿğ‘’...âˆ—/</ğ‘ ğ‘ğ‘Ÿğ‘–ğ‘ğ‘¡></ğ‘>
~~~

<br>

+ XSS oparty na DOM â€“ luka wystÄ™puje w kodzie po stronie klienta, a nie w kodzie po stronie serwera

W poniÅ¼szym przykÅ‚adzie aplikacja uÅ¼ywa kodu JavaScript do odczytania wartoÅ›ci z pola wejÅ›ciowego i zapisania tej wartoÅ›ci do elementu w kodzie HTML:
~~~
var search = document.getElementById('search').value;

var results = document.getElementById('results');

results.innerHTML = 'You searched for: ' + search;
~~~

JeÅ›li atakujÄ…cy moÅ¼e kontrolowaÄ‡ wartoÅ›Ä‡ pola wejÅ›ciowego, moÅ¼e Å‚atwo skonstruowaÄ‡ zÅ‚oÅ›liwÄ… wartoÅ›Ä‡, ktÃ³ra spowoduje wykonanie wÅ‚asnego skryptu:
~~~
You searched for: <img src=1 onerror='/* Bad stuff here...*/'>
~~~



## 2.1.2. SQL Injection

WstrzykniÄ™cie SQL (SQLi) to luka w zabezpieczeniach sieci Web, ktÃ³ra umoÅ¼liwia atakujÄ…cemu ingerowanie w zapytania kierowane przez aplikacjÄ™ do jej bazy danych. W niektÃ³rych sytuacjach osoba atakujÄ…ca moÅ¼e eskalowaÄ‡ atak polegajÄ…cy na wstrzykiwaniu kodu SQL w celu skompromitowania bazowego serwera lub innej infrastruktury zaplecza lub przeprowadziÄ‡ atak typu â€odmowa usÅ‚ugiâ€.


<p align="center">
  Rys.2.1.2.1. DziaÅ‚anie SQL Injection
<br>
  <img src="\assets\img\Cyber\5.png" width="650" alt="sqli">
  <br>
  Å¹rÃ³dÅ‚o: https://portswigger.net/web-security/images/sql-injection.svg
</p>


Udany atak SQL injection moÅ¼e spowodowaÄ‡ nieautoryzowany dostÄ™p do poufnych danych, takich jak hasÅ‚a, dane karty kredytowej lub dane osobowe uÅ¼ytkownika.

#### Jak wykryÄ‡ luki w zabezpieczeniach SQL Injection?

WiÄ™kszoÅ›Ä‡ luk w zabezpieczeniach typu SQL injection moÅ¼na znaleÅºÄ‡ szybko i niezawodnie za pomocÄ… internetowego skanera luk w zabezpieczeniach pakietu Burp Suite.

WstrzykniÄ™cie SQL moÅ¼na wykryÄ‡ rÄ™cznie, stosujÄ…c systematyczny zestaw testÃ³w dla kaÅ¼dego punktu wejÅ›cia w aplikacji. Zwykle obejmuje to:
+ PrzesyÅ‚anie znaku pojedynczego cudzysÅ‚owu 'i szukanie bÅ‚Ä™dÃ³w lub innych anomalii.
+ PrzesyÅ‚anie pewnej skÅ‚adni specyficznej dla jÄ™zyka SQL, ktÃ³ra ocenia wartoÅ›Ä‡ podstawowÄ… (oryginalnÄ…) punktu wejÅ›cia i innÄ… wartoÅ›Ä‡, oraz szukanie systematycznych rÃ³Å¼nic w wynikowych odpowiedziach aplikacji.
+ PrzesyÅ‚anie warunkÃ³w boolowskich, takich jak OR 1=1i OR 1=2, oraz szukanie rÃ³Å¼nic w odpowiedziach aplikacji.
+ PrzesyÅ‚anie Å‚adunkÃ³w zaprojektowanych w celu wywoÅ‚ania opÃ³ÅºnieÅ„ czasowych podczas wykonywania w zapytaniu SQL i szukanie rÃ³Å¼nic w czasie potrzebnym na odpowiedÅº.
+ PrzesyÅ‚anie Å‚adunkÃ³w OAST zaprojektowanych do wyzwalania interakcji sieciowej poza pasmem, gdy jest wykonywane w ramach zapytania SQL, oraz monitorowanie wszelkich wynikajÄ…cych z tego interakcji.

#### WstrzykniÄ™cie SQL drugiego rzÄ™du:

Iniekcja SQL pierwszego rzÄ™du ma miejsce, gdy aplikacja pobiera dane wejÅ›ciowe uÅ¼ytkownika z Å¼Ä…dania HTTP i w trakcie przetwarzania tego Å¼Ä…dania wÅ‚Ä…cza dane wejÅ›ciowe do zapytania SQL w niebezpieczny sposÃ³b.

W przypadku iniekcji SQL drugiego rzÄ™du (znanej rÃ³wnieÅ¼ jako iniekcja zapisanego SQL) aplikacja pobiera dane wejÅ›ciowe uÅ¼ytkownika z Å¼Ä…dania HTTP i przechowuje je do wykorzystania w przyszÅ‚oÅ›ci. Zwykle odbywa siÄ™ to poprzez umieszczenie danych wejÅ›ciowych w bazie danych, ale nie powstaje Å¼adna luka w punkcie, w ktÃ³rym dane sÄ… przechowywane. PÃ³Åºniej, podczas obsÅ‚ugi innego Å¼Ä…dania HTTP, aplikacja pobiera zapisane dane i wÅ‚Ä…cza je do zapytania SQL w niebezpieczny sposÃ³b.


<p align="center">
  Rys.2.1.2.2. WstrzykniÄ™cie SQL Injection drugiego rzÄ™du
<br>
  <img src="\assets\img\Cyber\6.png" width="650" alt="sqli-1">
  <br>
  Å¹rÃ³dÅ‚o: https://portswigger.net/web-security/images/second-order-sql-injection.svg
</p>

Wstrzykiwanie SQL drugiego rzÄ™du czÄ™sto pojawia siÄ™ w sytuacjach, gdy programiÅ›ci sÄ… Å›wiadomi luk w zabezpieczeniach wstrzykiwania SQL, wiÄ™c bezpiecznie obsÅ‚ugujÄ… poczÄ…tkowe umieszczanie danych wejÅ›ciowych w bazie danych. Gdy dane sÄ… pÃ³Åºniej przetwarzane, uwaÅ¼a siÄ™ je za bezpieczne, poniewaÅ¼ zostaÅ‚y wczeÅ›niej bezpiecznie umieszczone w bazie danych. W tym momencie dane sÄ… traktowane w niebezpieczny sposÃ³b, poniewaÅ¼ programista bÅ‚Ä™dnie uznaje je za zaufane.

#### Jak zapobiegaÄ‡ SQL Injection?

WiÄ™kszoÅ›ci przypadkÃ³w iniekcji SQL moÅ¼na zapobiec, uÅ¼ywajÄ…c sparametryzowanych zapytaÅ„ (znanych rÃ³wnieÅ¼ jako przygotowane instrukcje) zamiast konkatenacji ciÄ…gÃ³w w zapytaniu.

PoniÅ¼szy kod jest podatny na wstrzykniÄ™cie kodu SQL, poniewaÅ¼ dane wejÅ›ciowe uÅ¼ytkownika sÄ… bezpoÅ›rednio Å‚Ä…czone z zapytaniem:

~~~
String query = "SELECT * FROM products WHERE category = '"+ input + "'";

Statement statement = connection.createStatement();

ResultSet resultSet = statement.executeQuery(query);
~~~

Ten kod moÅ¼na Å‚atwo przepisaÄ‡ w sposÃ³b, ktÃ³ry zapobiega ingerencji uÅ¼ytkownika w strukturÄ™ zapytania:
~~~
ğ‘ƒğ‘Ÿğ‘’ğ‘ğ‘ğ‘Ÿğ‘’ğ‘‘ğ‘†ğ‘¡ğ‘ğ‘¡ğ‘’ğ‘šğ‘’ğ‘›ğ‘¡ ğ‘ ğ‘¡ğ‘ğ‘¡ğ‘’ğ‘šğ‘’ğ‘›ğ‘¡ = ğ‘ğ‘œğ‘›ğ‘›ğ‘’ğ‘ğ‘¡ğ‘–ğ‘œğ‘›.ğ‘ğ‘Ÿğ‘’ğ‘ğ‘ğ‘Ÿğ‘’ğ‘†ğ‘¡ğ‘ğ‘¡ğ‘’ğ‘šğ‘’ğ‘›ğ‘¡("ğ‘†ğ¸ğ¿ğ¸ğ¶ğ‘‡ âˆ— 

ğ¹ğ‘…ğ‘‚ğ‘€ ğ‘ğ‘Ÿğ‘œğ‘‘ğ‘¢ğ‘ğ‘¡ğ‘  ğ‘Šğ»ğ¸ğ‘…ğ¸ ğ‘ğ‘ğ‘¡ğ‘’ğ‘”ğ‘œğ‘Ÿğ‘¦ = ?");

ğ‘ ğ‘¡ğ‘ğ‘¡ğ‘’ğ‘šğ‘’ğ‘›ğ‘¡.ğ‘ ğ‘’ğ‘¡ğ‘†ğ‘¡ğ‘Ÿğ‘–ğ‘›ğ‘”(1,ğ‘–ğ‘›ğ‘ğ‘¢ğ‘¡);

ğ‘…ğ‘’ğ‘ ğ‘¢ğ‘™ğ‘¡ğ‘†ğ‘’ğ‘¡ ğ‘Ÿğ‘’ğ‘ ğ‘¢ğ‘™ğ‘¡ğ‘†ğ‘’ğ‘¡ = ğ‘ ğ‘¡ğ‘ğ‘¡ğ‘’ğ‘šğ‘’ğ‘›ğ‘¡ ğ‘’ğ‘¥ğ‘’ğ‘ğ‘¢ğ‘¡ğ‘’ğ‘„ğ‘¢ğ‘’ğ‘Ÿğ‘¦();
~~~

ZapytaÅ„ sparametryzowanych moÅ¼na uÅ¼ywaÄ‡ w kaÅ¼dej sytuacji, w ktÃ³rej jako dane w zapytaniu pojawiajÄ… siÄ™ niezaufane dane wejÅ›ciowe, w tym klauzula WHERE i wartoÅ›ci w instrukcji INSERT lub UPDATE. Nie moÅ¼na ich uÅ¼ywaÄ‡ do obsÅ‚ugi niezaufanych danych wejÅ›ciowych w innych czÄ™Å›ciach zapytania, takich jak nazwy tabel lub kolumn lub klauzula ORDER BY. FunkcjonalnoÅ›Ä‡ aplikacji, ktÃ³ra umieszcza niezaufane dane w tych czÄ™Å›ciach zapytania, bÄ™dzie musiaÅ‚a przyjÄ…Ä‡ inne podejÅ›cie, takie jak umieszczenie dozwolonych wartoÅ›ci wejÅ›ciowych na biaÅ‚ej liÅ›cie lub uÅ¼ycie innej logiki w celu zapewnienia wymaganego zachowania.


Aby sparametryzowana kwerenda byÅ‚a skuteczna w zapobieganiu iniekcji SQL, ciÄ…g uÅ¼ywany w kwerendzie musi zawsze byÄ‡ staÅ‚Ä… zakodowanÄ… na staÅ‚e i nigdy nie moÅ¼e zawieraÄ‡ Å¼adnych zmiennych danych z dowolnego ÅºrÃ³dÅ‚a. Nie ulegaj pokusie decydowania o tym, czy dany element danych jest zaufany, i kontynuuj stosowanie konkatenacji ciÄ…gÃ³w w zapytaniu w przypadkach, ktÃ³re sÄ… uwaÅ¼ane za bezpieczne. Bardzo Å‚atwo jest popeÅ‚niÄ‡ bÅ‚Ä…d co do moÅ¼liwego pochodzenia danych lub wprowadziÄ‡ zmiany w innym kodzie, aby naruszyÄ‡ zaÅ‚oÅ¼enia dotyczÄ…ce tego, jakie dane sÄ… skaÅ¼one.


### 2.1.3. CSRF

Cross-Site Request Forgery to atak, ktÃ³ry zmusza uwierzytelnionych uÅ¼ytkownikÃ³w do przesÅ‚ania Å¼Ä…dania do aplikacji internetowej, wzglÄ™dem ktÃ³rej sÄ… aktualnie uwierzytelnieni. Ataki CSRF wykorzystujÄ… zaufanie aplikacji internetowej do uwierzytelnionego uÅ¼ytkownika. 


<p align="center">
  Rys.2.1.3.1. DziaÅ‚anie CSRF
<br>
  <img src="\assets\img\Cyber\8.png" width="650" alt="CSRF">
  <br>
  Å¹rÃ³dÅ‚o: https://portswigger.net/web-security/images/cross-site%20request%20forgery.svg
</p>

ZaÅ‚Ã³Å¼my na przykÅ‚ad, Å¼e aplikacja zawiera funkcjÄ™ umoÅ¼liwiajÄ…cÄ… uÅ¼ytkownikowi zmianÄ™ adresu e-mail na koncie. Gdy uÅ¼ytkownik wykonuje tÄ™ czynnoÅ›Ä‡, wysyÅ‚a Å¼Ä…danie HTTP w nastÄ™pujÄ…cy sposÃ³b:

~~~
POST /email/change HTTP/1.1
Host: vulnerable-website.com
Content-Type: application/x-www-form-urlencoded
Content-Length: 30
Cookie: session=yvthwsztyeQkAPzeQ5gHgTvlyxHfsAfE
email=wiener@normal-user.com
~~~

#### SpeÅ‚nia to warunki wymagane dla CSRF:
+ Akcja zmiany adresu e-mail na koncie uÅ¼ytkownika jest interesujÄ…ca dla atakujÄ…cego. Po wykonaniu tej czynnoÅ›ci osoba atakujÄ…ca zazwyczaj bÄ™dzie w stanie wywoÅ‚aÄ‡ resetowanie hasÅ‚a i przejÄ…Ä‡ peÅ‚nÄ… kontrolÄ™ nad kontem uÅ¼ytkownika.
+ Aplikacja wykorzystuje sesyjny plik cookie do identyfikacji uÅ¼ytkownika, ktÃ³ry wysÅ‚aÅ‚ Å¼Ä…danie. Nie ma Å¼adnych innych tokenÃ³w ani mechanizmÃ³w do Å›ledzenia sesji uÅ¼ytkownikÃ³w.
+ AtakujÄ…cy moÅ¼e Å‚atwo okreÅ›liÄ‡ wartoÅ›ci parametrÃ³w Å¼Ä…dania, ktÃ³re sÄ… potrzebne do wykonania akcji.

Po speÅ‚nieniu tych warunkÃ³w osoba atakujÄ…ca moÅ¼e utworzyÄ‡ stronÄ™ internetowÄ… zawierajÄ…cÄ… nastÄ™pujÄ…cy kod HTML:

~~~
<html>
    <body>
        <form action="https://vulnerable-website.com/email/change" method="POST">
            <input type="hidden" name="email" value="pwned@evil-user.net" />
        </form>
        <script>
            document.forms[0].submit();
        </script>
    </body>
</html>
~~~

JeÅ›li uÅ¼ytkownik bÄ™dÄ…cy ofiarÄ… odwiedzi stronÄ™ internetowÄ… atakujÄ…cego, nastÄ…piÄ… nastÄ™pujÄ…ce zdarzenia:
+ Strona atakujÄ…cego wywoÅ‚a Å¼Ä…danie HTTP do podatnej witryny sieci Web.
+ JeÅ›li uÅ¼ytkownik jest zalogowany w witrynie podatnej na ataki, jego przeglÄ…darka automatycznie uwzglÄ™dni w Å¼Ä…daniu plik cookie sesji (zakÅ‚adajÄ…c, Å¼e pliki cookie Cross-Site nie sÄ… uÅ¼ywane).
+ Podatna strona internetowa przetworzy Å¼Ä…danie w normalny sposÃ³b, potraktuje je jako wysÅ‚ane przez uÅ¼ytkownika ofiary i zmieni jego adres e-mail.

#### PrzykÅ‚ad â€“ bankowoÅ›Ä‡ elektroniczna:

Jeszcze jeden czÄ™sto przeczytany przykÅ‚ad wykorzystania CSRF wymagajÄ…cy uwierzytelnienia: 

<p align="center">
  Rys.2.1.3.2. XSRF - bankowoÅ›Ä‡ elektroniczna
<br>
  <img src="\assets\img\Cyber\9.png" width="650" alt="csrf-1">
  <br>
  Å¹rÃ³dÅ‚o: https://sekurak.pl/wp-content/uploads/2015/04/csrf-admin3.gif
</p>


#### W tym przypadku:
+ AtakujÄ…cy umieszcza na stronie eeeevil-zite.com tag *<img>* realizujÄ…cy request odpowiadajÄ…cy realizacji przelewu w bankowoÅ›ci elektronicznej â€“ na swoje konto. RÃ³wnie dobrze mÃ³gÅ‚by to byÄ‡ rÃ³wnieÅ¼ samoczynnie wysyÅ‚ajÄ…cy siÄ™ formularz typu POST.
+ Ofiara loguje siÄ™ do bankowoÅ›ci elektronicznej.
+ Ofiara wchodzi w innej zakÅ‚adce przeglÄ…darki na eeeevil-zite.com
+ Ofiara poprzez punkt 3. realizuje nieÅ›wiadomie request (przelew) do swojej zalogowanej sesji w bankowoÅ›ci elektronicznej.

OczywiÅ›cie wiÄ™kszoÅ›Ä‡ systemÃ³w bankowoÅ›ci elektronicznej jest w obecnie chroniona zarÃ³wno przed samÄ… podatnoÅ›ciÄ… CSRF jak i dodatkowo wymaga dodatkowej autoryzacji przy przelewie na nieznane konto. 

ZauwaÅ¼my rÃ³wnieÅ¼, Å¼e gdyby bankowoÅ›c przyjmowaÅ‚a requesty HTTP tylko metodÄ… POST â€“  na eeeevil-zite.com moglibyÅ›my po prostu uÅ¼yÄ‡ odpowiednio spreparowany i samoczynnie wysyÅ‚ajÄ…cy siÄ™ formularz typu POST. Zatem korzystanie tylko requestÃ³w typu POST nie chroni przed CSRF. W tym przypadku OWASP podaje taki prosty przykÅ‚ad:


~~~
<body onload="document.forms[0].submit()">
<form action="http://bank.com/transfer.do" method="POST">
<input type="hidden" name="acct" value="MARIA"/>
<input type="hidden" name="amount" value="100000"/>
<input type="submit" value="View my pictures"/>
</form>
~~~

### 2.1.4. MitM

Atak typu Man in the Middle to atak, w ktÃ³rym sprawca ustawia siÄ™ w rozmowie miÄ™dzy uÅ¼ytkownikiem a aplikacjÄ… â€“ albo w celu podsÅ‚uchania, albo podszycia siÄ™ pod jednÄ… ze stron, co sprawia wraÅ¼enie normalnej wymiany informacji jest w toku. 
Celem ataku jest kradzieÅ¼ danych osobowych, takich jak dane logowania, dane konta i numery kart kredytowych. 

<p align="center">
  Rys.2.1.4.1. PrzykÅ‚ad ataku czÅ‚owieka w Å›rodku
<br>
  <img src="\assets\img\Cyber\10.png" width="650" alt="mitm">
  <br>
  Å¹rÃ³dÅ‚o: https://www.imperva.com/learn/wp-content/uploads/sites/13/2017/09/man-in-the-middle-mitm-attack.png.webp
</p>

#### Atak skÅ‚ada siÄ™ z dwÃ³ch odrÄ™bnych faz:

*Przechwycenie* â€“ jest to pierwszy krok, w ktÃ³rym jest przechwytywany ruch uÅ¼ytkownika w sieci atakujÄ…cego, zanim dotrze on do zamierzonego miejsca docelowego.

NajczÄ™stszym sposobem na to jest atak pasywny, w ktÃ³rym osoba udostÄ™pnia publicznie bezpÅ‚atne, zÅ‚oÅ›liwe hotspoty Wi-Fi. 

AtakujÄ…cy, ktÃ³rzy chcÄ… przyjÄ…Ä‡ bardziej aktywne podejÅ›cie do przechwytywania, mogÄ… przeprowadziÄ‡ jeden z nastÄ™pujÄ…cych atakÃ³w: 
+ FaÅ‚szowanie adresÃ³w IP  polega na tym, Å¼e atakujÄ…cy podszywa siÄ™ pod aplikacjÄ™, zmieniajÄ…c nagÅ‚Ã³wki pakietÃ³w w adresie IP. W rezultacie uÅ¼ytkownicy prÃ³bujÄ…cy uzyskaÄ‡ dostÄ™p do adresu URL poÅ‚Ä…czonego z aplikacjÄ… sÄ… odsyÅ‚ani na stronÄ™ atakujÄ…cego.
+ FaÅ‚szowanie ARP  to proces Å‚Ä…czenia adresu MAC osoby atakujÄ…cej z adresem IP legalnego uÅ¼ytkownika w sieci lokalnej za pomocÄ… faÅ‚szywych wiadomoÅ›ci ARP. W rezultacie dane wysyÅ‚ane przez uÅ¼ytkownika na adres IP hosta sÄ… zamiast tego przesyÅ‚ane do atakujÄ…cego.
+ FaÅ‚szowanie DNS , znane rÃ³wnieÅ¼ jako zatruwanie pamiÄ™ci podrÄ™cznej DNS, polega na infiltracji serwera DNS i zmianie rekordu adresu strony internetowej. W rezultacie uÅ¼ytkownicy prÃ³bujÄ…cy uzyskaÄ‡ dostÄ™p do witryny sÄ… wysyÅ‚ani przez zmieniony rekord DNS do witryny atakujÄ…cego.



*Deszyfrowanie* â€“ po przechwyceniu kaÅ¼dy dwukierunkowy ruch SSL musi zostaÄ‡ odszyfrowywany bez powiadomienia uÅ¼ytkownika lub aplikacji. Aby to osiÄ…gnÄ…Ä‡, istnieje kilka metod:

+ Spoofing HTTPS  wysyÅ‚a faÅ‚szywy certyfikat do przeglÄ…darki ofiary po wysÅ‚aniu poczÄ…tkowego Å¼Ä…dania poÅ‚Ä…czenia z bezpiecznÄ… witrynÄ…. Przechowuje cyfrowy odcisk palca powiÄ…zany z zaatakowanÄ… aplikacjÄ…, ktÃ³ry przeglÄ…darka weryfikuje zgodnie z istniejÄ…cÄ… listÄ… zaufanych witryn. AtakujÄ…cy moÅ¼e wtedy uzyskaÄ‡ dostÄ™p do wszelkich danych wprowadzonych przez ofiarÄ™, zanim zostanÄ… one przekazane do aplikacji.
+ SSL BEAST  (exploit przeglÄ…darki przeciwko SSL/TLS) atakuje lukÄ™ TLS w wersji 1.0 w SSL. W tym przypadku komputer ofiary jest infekowany zÅ‚oÅ›liwym kodem JavaScript, ktÃ³ry przechwytuje zaszyfrowane pliki cookie wysyÅ‚ane przez aplikacjÄ™ internetowÄ…. NastÄ™pnie naruszono Å‚aÅ„cuch blokÃ³w szyfrowania (CBC) aplikacji, aby odszyfrowaÄ‡ jej pliki cookie i tokeny uwierzytelniajÄ…ce.
+ PrzejÄ™cie SSL  ma miejsce, gdy osoba atakujÄ…ca przekazuje sfaÅ‚szowane klucze uwierzytelniajÄ…ce zarÃ³wno uÅ¼ytkownikowi, jak i aplikacji podczas uzgadniania protokoÅ‚u TCP. To ustanawia coÅ›, co wydaje siÄ™ byÄ‡ bezpiecznym poÅ‚Ä…czeniem, podczas gdy w rzeczywistoÅ›ci mÄ™Å¼czyzna w Å›rodku kontroluje caÅ‚Ä… sesjÄ™.
+ Usuwanie protokoÅ‚u SSL  obniÅ¼a jakoÅ›Ä‡ poÅ‚Ä…czenia HTTPS do HTTP poprzez przechwycenie uwierzytelniania TLS wysyÅ‚anego z aplikacji do uÅ¼ytkownika. AtakujÄ…cy wysyÅ‚a niezaszyfrowanÄ… wersjÄ™ strony aplikacji do uÅ¼ytkownika, utrzymujÄ…c jednoczeÅ›nie zabezpieczonÄ… sesjÄ™ z aplikacjÄ…. Tymczasem caÅ‚a sesja uÅ¼ytkownika jest widoczna dla atakujÄ…cego.


#### PrzykÅ‚ad 1: Przechwytywanie danych
+ AtakujÄ…cy instaluje sniffer pakietÃ³w, aby analizowaÄ‡ ruch sieciowy pod kÄ…tem niezabezpieczonej komunikacji.
+ Gdy uÅ¼ytkownik loguje siÄ™ do witryny, osoba atakujÄ…ca pobiera informacje o uÅ¼ytkowniku i przekierowuje go do faÅ‚szywej witryny, ktÃ³ra naÅ›laduje prawdziwÄ….
+ FaÅ‚szywa strona atakujÄ…cego zbiera dane od uÅ¼ytkownika, ktÃ³re atakujÄ…cy moÅ¼e nastÄ™pnie wykorzystaÄ‡ na prawdziwej stronie, aby uzyskaÄ‡ dostÄ™p do informacji o celu.

#### PrzykÅ‚ad 2: Uzyskanie dostÄ™pu do funduszy
+ AtakujÄ…cy konfiguruje faÅ‚szywÄ… usÅ‚ugÄ™ czatu, ktÃ³ra naÅ›laduje dobrze znany bank.
+ WykorzystujÄ…c wiedzÄ™ zdobytÄ… z danych przechwyconych w pierwszym scenariuszu, atakujÄ…cy podszywa siÄ™ pod bank i rozpoczyna czat z celem.
+ NastÄ™pnie atakujÄ…cy rozpoczyna czat na prawdziwej stronie banku, podszywajÄ…c siÄ™ pod cel i przekazujÄ…c potrzebne informacje, aby uzyskaÄ‡ dostÄ™p do konta celu.

W tym scenariuszu osoba atakujÄ…ca przechwytuje rozmowÄ™, przekazujÄ…c jej czÄ™Å›Ä‡ obu uprawnionym uczestnikom.

<p align="center">
  Rys.2.1.4.2. PrzykÅ‚ad ataku MitM
<br>
  <img src="\assets\img\Cyber\11.png" width="650" alt="mitm-1">
  <br>
  Å¹rÃ³dÅ‚o: https://www.veracode.com/sites/default/files/2021-07/veracode-mitm-remake.png
</p>


### 2.1.5. DoS i DDoS ataki na warstwie aplikacji

Celem tych atakÃ³w sÄ… protokoÅ‚y warstwy aplikacji, takie jak HTTP i DNS, czÄ™sto z zamiarem zakÅ‚Ã³cenia usÅ‚ug lub przejÄ™cia protokoÅ‚Ã³w aplikacji. Typowe techniki atakÃ³w obejmujÄ… zalewy Å¼Ä…daÅ„, wykorzystywanie lub w zabezpieczeniach aplikacji, ataki specyficzne dla aplikacji, takie jak zalewy XML-RPC i ataki zero-day wykorzystywanie luk w zabezpieczeniach. 

Taki atak moÅ¼e doprowadziÄ‡ do zakÅ‚Ã³cenia dziaÅ‚ania serwisu, a nawet caÅ‚kowitego zamkniÄ™cia serwisu. Atak w warstwie aplikacji wykorzystuje protokoÅ‚y komunikacyjne uÅ¼ywane do wymiany danych miÄ™dzy dwiema aplikacjami dziaÅ‚ajÄ…cymi w Internecie. Zasadniczo wymaga mniej zasobÃ³w do przeprowadzenia udanego ataku w warstwie aplikacji w porÃ³wnaniu z innymi typami atakÃ³w DDoS, poniewaÅ¼ powoduje wiÄ™cej szkÃ³d ze wzglÄ™du na swÃ³j dostosowany charakter ukierunkowany na okreÅ›lone usÅ‚ugi lub protokoÅ‚y, na przykÅ‚ad HTTP, SMTP lub FTP. To sprawia, Å¼e ataki w warstwie aplikacji sÄ… powszechnÄ… taktykÄ… zakÅ‚Ã³cania usÅ‚ug o znaczeniu krytycznym.

<p align="center">
  Rys.2.1.5.1. DziaÅ‚anie ataku DDoS 
<br>
  <img src="\assets\img\Cyber\12.png" width="650" alt="ddos">
  <br>
  Å¹rÃ³dÅ‚o: https://www.onelogin.com/images/patterns/text-image/ddos-app-layer-attack.png
</p>


### 2.1.6. Phising 

Atak phishing â€“ jest to wyÅ‚udzanie informacji, czyli jest to rodzaj ataku socjotechnicznego czÄ™sto wykorzystywanego do kradzieÅ¼y danych uÅ¼ytkownika. WystÄ™puje, gdy atakujÄ…cy, podszywajÄ…c siÄ™ pod zaufanÄ… jednostkÄ™, nakÅ‚ania ofiarÄ™ do otwarcia wiadomoÅ›ci e-mail lub innych rodzajÃ³w wiadomoÅ›ci tekstowych. NastÄ™pnie odbiorca zostaje nakÅ‚oniony do klikniÄ™cia zÅ‚oÅ›liwego Å‚Ä…cza, co moÅ¼e doprowadziÄ‡ do instalacji zÅ‚oÅ›liwego oprogramowania, zawieszenia systemu w ramach ataku ransomware lub ujawnienia poufnych informacji. 

#### PrzykÅ‚ady atakÃ³w phishingowych

PoniÅ¼ej przedstawiam przykÅ‚ady typowe prÃ³by wyÅ‚udzenia informacji: 

+ SfaÅ‚szowany e-mail rzekomo z  myuniversity.edu  jest masowo dystrybuowany do jak najwiÄ™kszej liczby czÅ‚onkÃ³w wydziaÅ‚u.
+ WiadomoÅ›Ä‡ e-mail zawiera informacjÄ™, Å¼e hasÅ‚o uÅ¼ytkownika wkrÃ³tce wygaÅ›nie. Podano instrukcje, aby przejÅ›Ä‡ do  myuniversity.edu/renewal  w celu odnowienia hasÅ‚a w ciÄ…gu 24 godzin.


<p align="center">
  Rys.2.1.6.1. PrzykÅ‚ad ataku phishingowego 
<br>
  <img src="\assets\img\Cyber\13.png" width="650" alt="phishing">
  <br>
  Å¹rÃ³dÅ‚o: https://www.imperva.com/learn/wp-content/uploads/sites/13/2019/01/phishing-attack-email-example.png
</p>


#### KlikniÄ™cie Å‚Ä…cza moÅ¼e spowodowaÄ‡ kilka rzeczy. Na przykÅ‚ad:
+ UÅ¼ytkownik jest przekierowywany do  myuniversity.edurenewal.com , faÅ‚szywej strony wyglÄ…dajÄ…cej dokÅ‚adnie tak samo jak prawdziwa strona odnowienia, na ktÃ³rej wymagane sÄ… zarÃ³wno nowe, jak i istniejÄ…ce hasÅ‚a. AtakujÄ…cy, monitorujÄ…c stronÄ™, przejmuje oryginalne hasÅ‚o, aby uzyskaÄ‡ dostÄ™p do zabezpieczonych obszarÃ³w sieci uniwersyteckiej.
+ UÅ¼ytkownik zostaje przekierowany na wÅ‚aÅ›ciwÄ… stronÄ™ odnowienia hasÅ‚a. Jednak podczas przekierowania zÅ‚oÅ›liwy skrypt aktywuje siÄ™ w tle, aby przejÄ…Ä‡ plik cookie sesji uÅ¼ytkownika. Efektem jest  odbity atak XSS  , dajÄ…cy sprawcy uprzywilejowany dostÄ™p do sieci uniwersyteckiej.

#### Techniki phishingowe:
+ Oszustwa zwiÄ…zane z phishingiem w wiadomoÅ›ciach e-mail

Osoba atakujÄ…ca wysyÅ‚a tysiÄ…ce wiadomoÅ›ci, ktÃ³re mogÄ… wykraÅ›Ä‡ znaczÄ…ce informacje i sumy pieniÄ™dzy. Linki w wiadomoÅ›ci przypominajÄ… ich legalne odpowiedniki, ale zazwyczaj majÄ… bÅ‚Ä™dnie napisanÄ… nazwÄ™ domeny lub dodatkowe subdomeny. 


<p align="center">
  Rys.2.1.6.2. BÅ‚Ä™dna domena 
<br>
  <img src="\assets\img\Cyber\14.png" width="650" alt="phishing-1">
  <br>
  Å¹rÃ³dÅ‚o: https://www.imperva.com/learn/wp-content/uploads/sites/13/2019/01/phishing-scam-techniques-link.png.webp
</p>

+ WyÅ‚udzanie informacji â€“ celem jest konkretna osoba lub firma, a nie losowi uÅ¼ytkownicy. Jest to bardziej dogÅ‚Ä™bna wersja phishingu, ktÃ³ra wymaga specjalnej wiedzy o organizacji, w tym o jej strukturze wÅ‚adzy. 

#### Atak moÅ¼e przebiegaÄ‡ w nastÄ™pujÄ…cy sposÃ³b: 
+ Sprawca wyszukuje nazwiska pracownikÃ³w dziaÅ‚u marketingu organizacji i uzyskuje dostÄ™p do najnowszych faktur projektowych.
+ PodajÄ…c siÄ™ za dyrektora marketingu, atakujÄ…cy wysyÅ‚a wiadomoÅ›Ä‡ e-mail do departamentalnego kierownika projektu (PM), uÅ¼ywajÄ…c wiersza tematu, ktÃ³ry brzmi: Zaktualizowana faktura za kampanie w trzecim kwartale. Tekst, styl i doÅ‚Ä…czone logo powielajÄ… standardowy szablon wiadomoÅ›ci e-mail organizacji.
+ ÅÄ…cze w wiadomoÅ›ci e-mail przekierowuje do chronionego hasÅ‚em wewnÄ™trznego dokumentu, ktÃ³ry w rzeczywistoÅ›ci jest sfaÅ‚szowanÄ… wersjÄ… skradzionej faktury.
+ PM jest proszony o zalogowanie siÄ™ w celu przeglÄ…dania dokumentu. AtakujÄ…cy kradnie jego dane uwierzytelniajÄ…ce, uzyskujÄ…c peÅ‚ny dostÄ™p do wraÅ¼liwych obszarÃ³w w sieci organizacji.

DostarczajÄ…c atakujÄ…cemu waÅ¼ne dane logowania, spear phishing jest skutecznÄ… metodÄ… wykonania pierwszego etapu APT.


### 2.1.7. Brute Force

Atak Brute Force to metoda hakerska polegajÄ…ca na â€zgadywaniuâ€ nazwy uÅ¼ytkownika i hasÅ‚a w celu uzyskania nieautoryzowanego dostÄ™pu do systemu. Haker wyprÃ³bowuje wiele nazw uÅ¼ytkownika i haseÅ‚, czÄ™sto uÅ¼ywajÄ…c komputera do testowania szerokiej gamy kombinacji, dopÃ³ki nie znajdzie prawidÅ‚owych danych logowania.

NiektÃ³rzy uÅ¼ywajÄ… aplikacji i skryptÃ³w jako narzÄ™dzi brutalnej siÅ‚y. NarzÄ™dzia te wyprÃ³bowujÄ… wiele kombinacji haseÅ‚, aby ominÄ…Ä‡ procesy uwierzytelniania. W innych przypadkach osoby atakujÄ…ce prÃ³bujÄ… uzyskaÄ‡ dostÄ™p do aplikacji internetowych, wyszukujÄ…c odpowiedni identyfikator sesji. 

Podczas gdy niektÃ³rzy atakujÄ…cy nadal wykonujÄ… ataki siÅ‚owe rÄ™cznie, obecnie wszystkie ataki siÅ‚owe sÄ… wykonywane przez boty. 


#### Rodzaje atakÃ³w Brute Force: 

<p align="center">
  Rys.2.1.7.1. Rodzaje atakÃ³w Brute Force 
<br>
  <img src="\assets\img\Cyber\15.png" width="650" alt="brute-force">
  <br>
  Å¹rÃ³dÅ‚o: https://tiny.pl/c71fx
</p>

+ Proste ataki Brute Force â€“ jest to atak siÅ‚owy, w ktÃ³rym haker prÃ³buje rÄ™cznie odgadnÄ…Ä‡ dane logowania uÅ¼ytkownika bez uÅ¼ycia oprogramowania. Ataki te sÄ… proste, poniewaÅ¼ wiele osÃ³b nadal uÅ¼ywa sÅ‚abych haseÅ‚ lub stosuje zÅ‚Ä… etykietÄ™ dotyczÄ…cÄ… haseÅ‚, na przykÅ‚ad uÅ¼ywajÄ…c tego samego hasÅ‚a do wielu witryn internetowych. 
+ Ataki sÅ‚ownikowe â€“ jest to rodzaj, w ktÃ³rym atakujÄ…cy wybiera cel, a nastÄ™pnie sprawdza moÅ¼liwe hasÅ‚a pod kÄ…tem nazwy uÅ¼ytkownika tej osoby. Ten rodzaj ataku jest zwykle czasochÅ‚onny i ma maÅ‚e szanse powodzenia z nowszymi, bardziej skutecznymi metodami ataku.
+ Ataki hybrydowe Brute Force â€“ jest to poÅ‚Ä…czenie ataku sÅ‚ownikowego z atakiem siÅ‚owym. Zaczyna siÄ™ od tego, Å¼e haker zna nazwÄ™ uÅ¼ytkownika, a nastÄ™pnie przeprowadza atak sÅ‚ownikowy i proste metody brutalnej siÅ‚y, aby odkryÄ‡ kombinacjÄ™ logowania do konta. AtakujÄ…cy zaczyna od listy potencjalnych sÅ‚Ã³w, a nastÄ™pnie eksperymentuje z kombinacjami znakÃ³w, liter i cyfr, aby znaleÅºÄ‡ prawidÅ‚owe hasÅ‚o.
+ Odwrotny atak Brute Force â€“ polega na tym, Å¼e osoba atakujÄ…ca rozpoczyna proces ze znanym hasÅ‚em, ktÃ³re zwykle jest wykrywane podczas naruszenia sieci. UÅ¼ywajÄ… tego hasÅ‚a do wyszukiwania pasujÄ…cych danych logowania, korzystajÄ…c z list milionÃ³w nazw uÅ¼ytkownikÃ³w.
+ Upychanie poÅ›wiadczeÅ„ â€“ wykorzystuje znane wczeÅ›niej pary hasÅ‚o-nazwa uÅ¼ytkownika, wyprÃ³bowujÄ…c je na wielu stronach internetowych. Wykorzystuje fakt, Å¼e wielu uÅ¼ytkownikÃ³w ma tÄ™ samÄ… nazwÄ™ uÅ¼ytkownika i hasÅ‚o w rÃ³Å¼nych systemach.


#### NarzÄ™dzia ataku Brute Force: 
+ Hydra â€“ analitycy bezpieczeÅ„stwa uÅ¼ywajÄ… narzÄ™dzia THC-Hydra do identyfikowania luk w systemach klienckich. Hydra szybko przechodzi przez duÅ¼Ä… liczbÄ™ kombinacji haseÅ‚, zarÃ³wno prostych, brutalnych, jak i opartych na sÅ‚ownikach. MoÅ¼e atakowaÄ‡ ponad 50 protokoÅ‚Ã³w i wiele systemÃ³w operacyjnych. Hydra to otwarta platforma; spoÅ‚ecznoÅ›Ä‡ zajmujÄ…ca siÄ™ bezpieczeÅ„stwem i osoby atakujÄ…ce stale opracowujÄ… nowe moduÅ‚y.


<p align="center">
  Rys.2.1.7.2. NarzÄ™dzie Hydra
<br>
  <img src="\assets\img\Cyber\16.png" width="650" alt="hydra">
  <br>
  Å¹rÃ³dÅ‚o: https://www.imperva.com/learn/wp-content/uploads/sites/13/2018/01/hydra-brute-force-attack.png.webp
</p>

+ Aircrack-ng â€“ wykorzystuje sÅ‚ownik powszechnie uÅ¼ywanych haseÅ‚ do wÅ‚amaÅ„ do sieci bezprzewodowych.
+ John the Ripper â€“ prÃ³buje wszystkich moÅ¼liwych kombinacji przy uÅ¼yciu sÅ‚ownika moÅ¼liwych haseÅ‚.
+ L0phtCrack â€“ wykorzystuje tÄ™czowe tabele, sÅ‚owniki i algorytmy wieloprocesorowe.
+ Hashcat â€“ moÅ¼e przeprowadzaÄ‡ proste ataki siÅ‚owe, oparte na reguÅ‚ach i ataki hybrydowe.
+ DaveGrohl â€“ moÅ¼e byÄ‡ dystrybuowany na wielu komputerach.
+ Ncrack â€“ narzÄ™dzie do Å‚amania uwierzytelniania sieciowego. 

### 2.1.8. Fuzzing

Fuzzing â€“ jest to technika uÅ¼ywana do wykrywania bÅ‚Ä™dÃ³w kodowania i luk w zabezpieczeniach oprogramowania, systemÃ³w operacyjnych lub sieci. DziaÅ‚a, prÃ³bujÄ…c zawiesiÄ‡ system lub wywoÅ‚aÄ‡ bÅ‚Ä™dy, dostarczajÄ…c duÅ¼Ä… liczbÄ™ losowych danych wejÅ›ciowych.

Systemy fuzzingowe bardzo dobrze radzÄ… sobie z wykrywaniem pewnych rodzajÃ³w luk, w tym przepeÅ‚nienia bufora, odmowy usÅ‚ugi (DoS), cross-site scripting i wstrzykiwania kodu . SÄ… jednak mniej skuteczne w radzeniu sobie z cichymi zagroÅ¼eniami bezpieczeÅ„stwa, ktÃ³re powodujÄ… awarie lub widoczne bÅ‚Ä™dy, takimi jak oprogramowanie szpiegujÄ…ce , robaki, konie trojaÅ„skie i rootkity.

<p align="center">
  Rys.2.1.8.1. Procesy Fuzzing
<br>
  <img src="\assets\img\Cyber\17.png" width="650" alt="fuzzing">
  <br>
  Å¹rÃ³dÅ‚o: https://journals.plos.org/plosone/article/figure/image?size=large&id=10.1371/journal.pone.0237749.g001
</p>


#### Rodzaje Fuzzingu:
+ Fuzzing aplikacji â€“ testuje funkcje interfejsu uÅ¼ytkownika, takie jak przyciski, pola wprowadzania w formularzach lub opcje w programach wiersza poleceÅ„. DziaÅ‚a, uzyskujÄ…c dostÄ™p do funkcji z niezwykle wysokÄ… czÄ™stotliwoÅ›ciÄ…, dostarczajÄ…c nieprawidÅ‚owe treÅ›ci, takie jak zbyt duÅ¼o tekstu w polach wejÅ›ciowych, i prÃ³bujÄ…c rÃ³Å¼nych losowych danych wejÅ›ciowych.
+ Fuzzing protokoÅ‚u â€“ sÅ‚uÅ¼y do testowania zachowania serwera, gdy zÅ‚a treÅ›Ä‡ jest wysyÅ‚ana przez dany protokÃ³Å‚. GÅ‚Ã³wnym celem jest zapobieganie bÅ‚Ä™dnej interpretacji Å¼Ä…daÅ„ protokoÅ‚Ã³w jako poleceÅ„ i wykonywaniu ich na serwerze. 
+ Rozmycie formatu pliku â€“ tworzy uszkodzony plik i przedstawia go oprogramowaniu docelowemu do przetworzenia. Pliki sÄ… zwykle w standardowych formatach, takich jak .jpg, 
+ .docx lub .xml. Fuzzer moÅ¼e przetestowaÄ‡ aplikacjÄ™, dostarczajÄ…c pliki, ktÃ³re nie pasujÄ… do oczekiwanego formatu lub zawierajÄ… nieoczekiwanÄ… zawartoÅ›Ä‡.

#### NarzÄ™dzia bezpieczeÅ„stwa Fuzzer:
+ Generative Fuzzers â€“ moÅ¼e byÄ‡ wszystko, od caÅ‚kowicie losowych danych po dane lekko zmanipulowane. Na przykÅ‚ad podczas testowania fuzz ruchu HTTP moÅ¼liwe jest fuzzowanie caÅ‚ego pakietu, co oznacza, Å¼e prawdopodobnie nie dotarÅ‚by on do miejsca docelowego. Alternatywnie, generatywny fuzzer moÅ¼e rozbiÄ‡ pakiet na jego poszczegÃ³lne komponenty i sprÃ³bowaÄ‡ rozmyÄ‡ kaÅ¼dy z nich osobno, zachowujÄ…c nienaruszonÄ… strukturÄ™ pakietu. Pozwala to na testowanie nieprawidÅ‚owej zawartoÅ›ci pakietu przy zachowaniu nagÅ‚Ã³wkÃ³w TCP/IP i HTTP.
+ Mutation Fuzzers â€“ pobierajÄ… zestaw prawidÅ‚owych danych wejÅ›ciowych i wykonujÄ… na nich mutacje, aby wywoÅ‚aÄ‡ bÅ‚Ä™dy lub awarie w testowanym oprogramowaniu. Oto kilka przykÅ‚adÃ³w technik mutacji:
- Odwracanie najmniej znaczÄ…cego bitu (LSB) â€” zmiana bitu na koÅ„cu kaÅ¼dej binarnej liczby caÅ‚kowitej.
- Zaciemnianie Å¼Ä…daÅ„ HTTP â€” doÅ‚Ä…czanie losowej wartoÅ›ci do kaÅ¼dej wartoÅ›ci nagÅ‚Ã³wka HTTP. MoÅ¼e to byÄ‡ bardzo skuteczne w wykrywaniu luk w zabezpieczeniach i zapewnia wysokie pokrycie kodu, poniewaÅ¼ dane wejÅ›ciowe sÄ… wystarczajÄ…co podobne do oryginalnych prawidÅ‚owych danych wejÅ›ciowych.
- Szablony â€” uÅ¼ycie prawidÅ‚owej struktury lub formatu danych w celu zwiÄ™kszenia szansy, Å¼e rozmyte dane wejÅ›ciowe zostanÄ… zaakceptowane przez system docelowy. MoÅ¼e to skrÃ³ciÄ‡ czas i zasoby testu rozmytego, zapewniajÄ…c, Å¼e dane wejÅ›ciowe sÄ… dobrze sformuÅ‚owane.
+ Evolution Fuzzers â€“ opera siÄ™ na wykorzystaniu programowania genetycznego, zaprojektowanego w celu zbieÅ¼noÅ›ci w kierunku danych wejÅ›ciowych, ktÃ³re doprowadzÄ… do bÅ‚Ä™du. Algorytmy genetyczne wykorzystujÄ… koncepcje mutacji, krzyÅ¼owania i selekcji, aby znaleÅºÄ‡ rozwiÄ…zania zÅ‚oÅ¼onych problemÃ³w.


### 2.1.9. Pharming

Atak Pharming to forma cyberataku, w ktÃ³rej cyberprzestÄ™pca wysyÅ‚a faÅ‚szywÄ… stronÄ™ internetowÄ… zamiast prawdziwej, a ta faÅ‚szywa strona wyglÄ…da podobnie do prawdziwej strony internetowej. CyberprzestÄ™pcy wykorzystujÄ… luki w zabezpieczeniach serwera DNS. Serwer DNS jest odpowiedzialny za konwersjÄ™ nazwy domeny na adres IP. Pharming mÃ³gÅ‚ odbywaÄ‡ siÄ™ na dwa sposoby albo poprzez wykorzystanie luki w oprogramowaniu serwera DNS, albo poprzez zmianÄ™ pliku hosta na komputerze ofiary. CyberprzestÄ™pcy celowo przekierowujÄ… uÅ¼ytkownikÃ³w do faÅ‚szywej wersji strony internetowej w celu uzyskania dostÄ™pu i kradzieÅ¼y nazw uÅ¼ytkownikÃ³w i haseÅ‚.

<p align="center">
  Rys.2.1.9.1. DziaÅ‚anie ataku pharmingowego
<br>
  <img src="\assets\img\Cyber\18.png" width="650" alt="pharming">
  <br>
  Å¹rÃ³dÅ‚o: https://media.geeksforgeeks.org/wp-content/uploads/20211018205404/pharmingattack1.png
</p>

+ Za kaÅ¼dym razem, gdy uÅ¼ytkownik odwiedza oszukaÅ„cze strony internetowe, zÅ‚oÅ›liwe oprogramowanie jest instalowane na komputerze i uszkadza informacje, co okazuje siÄ™ byÄ‡ atakiem typu pharming.
+ Za kaÅ¼dym razem, gdy uÅ¼ytkownik odwiedza dowolny adres URL za poÅ›rednictwem dowolnej przeglÄ…darki, takiej jak Chrome, Mozilla Firefox, Opera itp., przeglÄ…darka kontaktuje siÄ™ z serwerem DNS i Å¼Ä…da adresu IP Å¼Ä…danej domeny. Spowoduje to zmianÄ™ samego serwera DNS i zamieni siÄ™ w atak typu pharming.


### 2.1.10. Remote Code Execution (RCE)

Remote Code Execution â€“ to rodzaj luki w zabezpieczeniach, ktÃ³ra umoÅ¼liwia atakujÄ…cym uruchomienie dowolnego kodu na komputerze zdalnym, Å‚Ä…czÄ…c siÄ™ z nim za poÅ›rednictwem sieci publicznych lub prywatnych.

#### Jak dziaÅ‚a RCE?

AtakujÄ…cy RCE skanujÄ… Internet w poszukiwaniu wraÅ¼liwych aplikacji. Gdy zauwaÅ¼Ä… lukÄ™ w zdalnym kodzie, atakujÄ… jÄ… przez sieÄ‡. Po uzyskaniu dostÄ™pu do systemu atakujÄ…cy czÄ™sto prÃ³bujÄ… podnieÅ›Ä‡ swoje uprawnienia z uÅ¼ytkownika na administratora.

<p align="center">
  Rys.2.1.10.1. DziaÅ‚anie ataku RCE
<br>
  <img src="\assets\img\Cyber\19.png" width="650" alt="RCE">
  <br>
  Å¹rÃ³dÅ‚o: https://tblocks.com/wp-content/uploads/2023/06/How-Does-A-LOG4J-JNDI-Attack-Happen.jpg
</p>

#### Rodzaje atakÃ³w RCE:
+ Atak iniekcyjny â€“ rÃ³Å¼ne aplikacje umoÅ¼liwiajÄ… wprowadzanie danych wejÅ›ciowych przez uÅ¼ytkownika w celu wykonywania poleceÅ„. AtakujÄ…cy mogÄ… celowo podawaÄ‡ znieksztaÅ‚cone dane wejÅ›ciowe w celu wykonania dowolnego kodu.
+ Atak deserializacji â€“ aplikacje czÄ™sto wykorzystujÄ… serializacjÄ™ do organizowania danych w celu uÅ‚atwienia komunikacji. Programy do deserializacji mogÄ… interpretowaÄ‡ dane serializowane dostarczone przez uÅ¼ytkownika jako kod wykonywalny.
+ Zapis poza zakresem â€“ aplikacje czÄ™sto przydzielajÄ… staÅ‚e fragmenty pamiÄ™ci do przechowywania danych. Luki w alokacji pamiÄ™ci umoÅ¼liwiajÄ… atakujÄ…cym dostarczanie danych wejÅ›ciowych, ktÃ³re zapisujÄ… poza buforem â€” pamiÄ™Ä‡ przechowuje kod wykonywalny, w tym zÅ‚oÅ›liwy kod.

#### Techniki exploitÃ³w do zdalnego wykonywania kodu: 
+ Zdalna ocena kodu â€“ ocena kodu ma miejsce, gdy funkcje oceniajÄ…ce kod akceptujÄ… dane wejÅ›ciowe uÅ¼ytkownika. Na przykÅ‚ad niektÃ³re aplikacje umoÅ¼liwiajÄ… uÅ¼ytkownikom generowanie nazw zmiennych przy uÅ¼yciu ich nazw uÅ¼ytkownikÃ³w â€” uÅ¼ytkownicy kontrolujÄ… swoje nazwy uÅ¼ytkownikÃ³w, dziÄ™ki czemu mogÄ… tworzyÄ‡ nazwy uÅ¼ytkownikÃ³w zawierajÄ…ce zÅ‚oÅ›liwy kod i wpÅ‚ywaÄ‡ na aplikacje, ktÃ³re umoÅ¼liwiajÄ… ocenÄ™ danych wejÅ›ciowych dla okreÅ›lonego jÄ™zyka programowania.
+ Ocena zapianego kodu â€“ opiera siÄ™ na przetwarzaniu plikÃ³w przez tÅ‚umacza, a nie na okreÅ›lonych funkcjach jÄ™zykowych. Na przykÅ‚ad aplikacja moÅ¼e mieÄ‡ panel sterowania dla kaÅ¼dego uÅ¼ytkownika z okreÅ›lonymi ustawieniami zmiennych jÄ™zykowych, ktÃ³re sÄ… przechowywane w pliku konfiguracyjnym. AtakujÄ…cy mogÄ… zmodyfikowaÄ‡ parametr jÄ™zyka, aby wstrzyknÄ…Ä‡ kod do pliku konfiguracyjnego, umoÅ¼liwiajÄ…c im wykonanie dowolnych poleceÅ„.


### 2.1.11. Clickjacking / UI Redressing

Clickjacking to atak polegajÄ…cy na nakÅ‚onieniu uÅ¼ytkownika do klikniÄ™cia elementu strony internetowej, ktÃ³ry jest niewidoczny lub zamaskowany jako inny element. Zazwyczaj przechwytywanie klikniÄ™Ä‡ polega na wyÅ›wietlaniu niewidocznej strony lub elementu HTML w ramce iframe na gÃ³rze strony, ktÃ³rÄ… widzi uÅ¼ytkownik. 

<p align="center">
  Rys.2.1.11.1. Atack Clickjacking
<br>
  <img src="\assets\img\Cyber\20.png" width="650" alt="clickjacking">
  <br>
  Å¹rÃ³dÅ‚o: https://portswigger.net/web-security/images/clickjacking-infographic.svg
</p>

#### Istnieje kilka odmian ataku typu clickjacking, takie jak:
+ Likejacking â€“ technika polegajÄ…ca na manipulacji przyciskiem â€LubiÄ™ toâ€ Facebooka, powodujÄ…ca â€polubienieâ€ przez uÅ¼ytkownikÃ³w strony, ktÃ³rej tak naprawdÄ™ nie zamierzali polubiÄ‡.
+ Cursorjacking â€“ technika zmiany interfejsu uÅ¼ytkownika, ktÃ³ra zmienia kursor pozycji postrzeganej przez uÅ¼ytkownika na innÄ… pozycjÄ™. Cursorjacking opiera siÄ™ na lukach we Flashu i przeglÄ…darce Firefox, ktÃ³re zostaÅ‚y juÅ¼ naprawione.

#### PrzykÅ‚ad ataku typu clickjacking:
+ AtakujÄ…cy tworzy atrakcyjnÄ… stronÄ™, ktÃ³ra obiecuje uÅ¼ytkownikowi darmowÄ… wycieczkÄ™ na Tahiti.
+ W tle atakujÄ…cy sprawdza, czy uÅ¼ytkownik jest zalogowany do swojego serwisu bankowego, a jeÅ›li tak, Å‚aduje ekran umoÅ¼liwiajÄ…cy przelew Å›rodkÃ³w, uÅ¼ywajÄ…c parametrÃ³w zapytania do wstawienia danych bankowych atakujÄ…cego do formularza.
+ Strona przelewu bankowego jest wyÅ›wietlana w niewidocznej ramce iframe nad stronÄ… z darmowymi prezentami, z przyciskiem â€PotwierdÅº przelewâ€ dokÅ‚adnie ustawionym nad przyciskiem â€Odbierz prezentâ€ widocznym dla uÅ¼ytkownika.
+ UÅ¼ytkownik wchodzi na stronÄ™ i klika przycisk â€Zarezerwuj mojÄ… darmowÄ… podrÃ³Å¼â€.
+ W rzeczywistoÅ›ci uÅ¼ytkownik klika niewidoczny element iframe i klika przycisk â€PotwierdÅº transferâ€. Åšrodki sÄ… przekazywane atakujÄ…cemu.
+ UÅ¼ytkownik zostaje przekierowany na stronÄ™ z informacjÄ… o darmowym prezencie (nie wiedzÄ…c, co siÄ™ staÅ‚o w tle).

<p align="center">
  Rys.2.1.11.2. PrzykÅ‚ad ataku typu clickjacking
<br>
  <img src="\assets\img\Cyber\21.png" width="650" alt="clickjacking-1">
  <br>
  Å¹rÃ³dÅ‚o: https://www.imperva.com/learn/wp-content/uploads/sites/13/2019/01/Clickjacking.png.webp
</p>

#### Jak skonstruowaÄ‡ podstawowy atak typu clickjacking?

Ataki typu â€clickjackingâ€ wykorzystujÄ… CSS do tworzenia warstw i manipulowania nimi. AtakujÄ…cy wÅ‚Ä…cza docelowÄ… stronÄ™ internetowÄ… jako warstwÄ™ iframe naÅ‚oÅ¼onÄ… na wabiÄ…cÄ… stronÄ™ internetowÄ…. PrzykÅ‚ad uÅ¼ycia znacznika stylu i parametrÃ³w jest nastÄ™pujÄ…cy:

~~~
<head>
	<style>
		#target_website {
			position:relative;
			width:128px;
			height:128px;
			opacity:0.00001;
			z-index:2;
			}
		#decoy_website {
			position:absolute;
			width:300px;
			height:400px;
			z-index:1;
			}
	</style>
</head>
...
<body>
	<div id="decoy_website">
	...decoy web content here...
	</div>
	<iframe id="target_website" src="https://vulnerable-website.com">
	</iframe>
</body>
~~~

Element iframe witryny docelowej jest umieszczany w przeglÄ…darce w taki sposÃ³b, Å¼e akcja docelowa dokÅ‚adnie pokrywa siÄ™ z witrynÄ… wabiÄ…cÄ… przy uÅ¼yciu odpowiednich wartoÅ›ci pozycji szerokoÅ›ci i wysokoÅ›ci. BezwzglÄ™dne i wzglÄ™dne wartoÅ›ci pozycji sÄ… uÅ¼ywane w celu zapewnienia, Å¼e docelowa witryna dokÅ‚adnie pokrywa siÄ™ z przynÄ™tÄ…, niezaleÅ¼nie od rozmiaru ekranu, typu przeglÄ…darki i platformy. Z-index okreÅ›la kolejnoÅ›Ä‡ ukÅ‚adania warstwy elementu iframe i strony internetowej. WartoÅ›Ä‡ krycia jest zdefiniowana jako 0,0 (lub bliska 0,0), dziÄ™ki czemu zawartoÅ›Ä‡ elementu iframe jest przezroczysta dla uÅ¼ytkownika. Ochrona przeglÄ…darki przed przechwytywaniem klikniÄ™Ä‡ moÅ¼e stosowaÄ‡ wykrywanie przezroczystoÅ›ci ramek iframe na podstawie wartoÅ›ci progowych. AtakujÄ…cy wybiera wartoÅ›ci krycia tak, aby osiÄ…gnÄ…Ä‡ poÅ¼Ä…dany efekt bez wyzwalania zachowaÅ„ ochronnych.


### 2.1.12. Server-Side Request Forgery (SSRF)

Atak Server-Side Request Forgery â€“ polega na tym, Å¼e osoba atakujÄ…ca naduÅ¼ywa funkcjonalnoÅ›ci serwera w celu uzyskania dostÄ™pu do zasobÃ³w lub ich modyfikacji. Celem atakujÄ…cego jest aplikacja obsÅ‚ugujÄ…ca import danych z adresÃ³w URL lub umoÅ¼liwiajÄ…ca odczytywanie danych z adresÃ³w URL. Adresami URL moÅ¼na manipulowaÄ‡, zastÄ™pujÄ…c je nowymi lub modyfikujÄ…c przechodzenie przez Å›cieÅ¼kÄ™ URL. 


<p align="center">
  Rys.2.1.12.1. DziaÅ‚anie ataku SSRF
<br>
  <img src="\assets\img\Cyber\22.png" width="650" alt="ssrf">
  <br>
  Å¹rÃ³dÅ‚o: https://portswigger.net/web-security/images/server-side%20request%20forgery.svg
</p>

#### Rodzaje atakÃ³w SSRF:
+ Ataki SSRF na serwery â€“ polega na tym, Å¼e osoba atakujÄ…ca wykorzystuje proces, w ktÃ³rym przeglÄ…darka lub inny system kliencki uzyskuje bezpoÅ›redni dostÄ™p do adresu URL na serwerze. Osoba atakujÄ…ca zastÄ…pi oryginalny adres URL innym, zazwyczaj uÅ¼ywajÄ…c adresu IP 127.0.0.1 lub nazwy hosta â€localhostâ€, ktÃ³re wskazujÄ… na lokalny system plikÃ³w na serwerze. Pod tÄ… nazwÄ… hosta atakujÄ…cy znajduje Å›cieÅ¼kÄ™ do pliku, ktÃ³ra prowadzi do wraÅ¼liwych plikÃ³w. 

<p align="center">
  Rys.2.1.12.2. DziaÅ‚anie ataku SSRF na serwery
<br>
  <img src="\assets\img\Cyber\23.png" width="650" alt="ssrf-2">
  <br>
  Å¹rÃ³dÅ‚o: https://www.imperva.com/learn/wp-content/uploads/sites/13/2021/12/How-Server-SSRF-works.png
</p>

+ Back-endowe ataki SSRF â€“ atak, w ktÃ³rym serwer ma zaufanÄ… relacjÄ™ z komponentem zaplecza. JeÅ›li serwer, ktÃ³ry poÅ‚Ä…czy siÄ™ z tym komponentem, ma peÅ‚ne prawa dostÄ™pu, osoba atakujÄ…ca moÅ¼e sfaÅ‚szowaÄ‡ Å¼Ä…danie i uzyskaÄ‡ dostÄ™p do wraÅ¼liwych danych lub wykonaÄ‡ nieautoryzowane operacje. Komponenty zaplecza czÄ™sto majÄ… sÅ‚abe zabezpieczenia, poniewaÅ¼ sÄ… uwaÅ¼ane za chronione wewnÄ…trz obwodu sieci.

#### Omijanie typowych mechanizmÃ³w obronnych SSRF:
+ SSRF z filtrami wejÅ›ciowymi opartymi na czarnej liÅ›cie â€“ niektÃ³re aplikacje blokujÄ… dane wejÅ›ciowe zawierajÄ…ce nazwy hostÃ³w, takie jak 127.0.0.1 i localhost, lub wraÅ¼liwe adresy URL, takie jak /admin. W takiej sytuacji moÅ¼na obejÅ›Ä‡ filtr w nastÄ™pujÄ…cy sposÃ³b: 
- UÅ¼yÄ‡ alternatywnej reprezentacji adresu IP 127.0.0.1, takie jak 2130706433, 017700000001, lub 127.1
- ZarejestrowaÄ‡ wÅ‚asnÄ… nazwÄ™ domeny, ktÃ³ra jest tÅ‚umaczona na 127.0.0.1 (moÅ¼na uÅ¼yÄ‡ spoofed.burpcollaborator.netw tym celu)
- Zaciemnianie zablokowanych ciÄ…gÃ³w przy uÅ¼yciu kodowania adresÃ³w URL lub zmiany wielkoÅ›ci liter.
- Podanie kontrolowanego adresu URL, ktÃ³ry nastÄ™pnie przekierowuje do docelowego adresu URL
+ SSRF z filtrami wejÅ›ciowymi opartymi na biaÅ‚ej liÅ›cie â€“ niektÃ³re aplikacje zezwalajÄ… tylko na dane wejÅ›ciowe, ktÃ³re pasujÄ… do biaÅ‚ej listy dozwolonych wartoÅ›ci, zaczynajÄ… siÄ™ od niej lub zawierajÄ…. W takiej sytuacji moÅ¼na czasami obejÅ›Ä‡ filtr, wykorzystujÄ…c niespÃ³jnoÅ›ci w analizie adresÃ³w URL. Specyfikacja adresu URL zawiera szereg funkcji, ktÃ³re moÅ¼na przeoczyÄ‡ podczas implementacji analizowania ad hoc i sprawdzania poprawnoÅ›ci adresÃ³w URL:
+ MoÅ¼na osadziÄ‡ poÅ›wiadczenia w adresie URL przed nazwÄ… hosta, uÅ¼ywajÄ…c @znaku. Na przykÅ‚ad: https://expected-host:fakepassword@evil-host
- MoÅ¼na uÅ¼yÄ‡ #znaku, aby wskazaÄ‡ fragment adresu URL. Na przykÅ‚ad: https://evil-host#expected-host
o	MoÅ¼na wykorzystaÄ‡ hierarchiÄ™ nazw DNS, aby umieÅ›ciÄ‡ wymagane dane wejÅ›ciowe we w peÅ‚ni kwalifikowanej nazwie DNS, ktÃ³rÄ… moÅ¼na kontrolowaÄ‡. Na przykÅ‚ad: https://expected-host.evil-host
- MoÅ¼na zakodowaÄ‡ znaki w adresie URL, a by zmyliÄ‡ kod analizujÄ…cy adres URL. 
+ Omijanie filtrÃ³w SSRF poprzez otwarte przekierowanie â€“ czasami moÅ¼liwe jest obejÅ›cie wszelkiego rodzaju zabezpieczeÅ„ opartych na filtrach, wykorzystujÄ…c lukÄ™ w zabezpieczeniach polegajÄ…cÄ… na otwartym przekierowaniu. 

ZaÅ‚Ã³Å¼my na przykÅ‚ad, Å¼e aplikacja zawiera lukÄ™ umoÅ¼liwiajÄ…cÄ… otwarcie przekierowania, w ktÃ³rej nastÄ™pujÄ…cy adres URL: 

~~~
/product/nextProduct?currentProductId=6&path=http://evil-user.net
~~~

Zwraca przekierowanie: 

~~~
http://evil-user.net
~~~

MoÅ¼na wykorzystaÄ‡ lukÄ™ w zabezpieczeniach zwiÄ…zanÄ… z otwartym przekierowaniem, aby ominÄ…Ä‡ filtr adresÃ³w URL i wykorzystaÄ‡ lukÄ™ w zabezpieczeniach SSRF w nastÄ™pujÄ…cy sposÃ³b: 

~~~
POST /product/stock HTTP/1.0
Content-Type: application/x-www-form-urlencoded
Content-Length: 118

stockApi=http://weliketoshop.net/product/nextProduct?currentProductId=6&path=http://192.168.0.68/admin
~~~

Ten exploit SSRF dziaÅ‚a, poniewaÅ¼ aplikacja najpierw sprawdza, czy podany stockAPIadres URL znajduje siÄ™ w dozwolonej domenie, co jest prawdÄ…. NastÄ™pnie aplikacja Å¼Ä…da podanego adresu URL, co wyzwala otwarte przekierowanie. PodÄ…Å¼a za przekierowaniem i wysyÅ‚a Å¼Ä…danie do wewnÄ™trznego adresu URL wybranego przez atakujÄ…cego.

### 2.1.13. XML Ecternal Entity (XXE) Injection 

XM External Entity Injection â€“ to luka w zabezpieczeniach, ktÃ³ra umoÅ¼liwia atakujÄ…cemu wstrzykniÄ™cie niebezpiecznych jednostek XML do aplikacji internetowej przetwarzajÄ…cej dane XML. Luki w zabezpieczeniach XXE sÄ… spowodowane przez parsery XML, ktÃ³re sÄ… przestarzaÅ‚e lub nieprawidÅ‚owo skonfigurowane. 

<p align="center">
  Rys.2.1.13.1. DziaÅ‚anie ataku XXE
<br>
  <img src="\assets\img\Cyber\24.png" width="650" alt="xxe">
  <br>
  Å¹rÃ³dÅ‚o: https://portswigger.net/web-security/images/xxe-injection.svg
</p>

#### Rodzaje atakÃ³w XXE:
+ Wykorzystanie XXE do pobierania plikÃ³w â€“ definiowana jest zewnÄ™trzna jednostka zawierajÄ…ca zawartoÅ›Ä‡ pliku i zwracana w odpowiedzi aplikacji. 
+ Wykorzystanie XXE do przeprowadzania atakÃ³w SSRF â€“ podmiot zewnÄ™trzny jest definiowany na podstawie adresu URL do systemu zaplecza. 
+ Eksfiltracja danych poza pasmem wykorzystujÄ…c Blind XXE â€“ poufne dane sÄ… przesyÅ‚ane z serwera aplikacji do systemu kontrolowanego przez atakujÄ…cego. 
+ Pobieranie danych za poÅ›rednictwem komunikatÃ³w o bÅ‚Ä™dach wykorzystujÄ…c Blind XXE â€“ osoba atakujÄ…ca moÅ¼e wywoÅ‚aÄ‡ komunikat o bÅ‚Ä™dzie analizy skÅ‚adniowej zawierajÄ…cy poufne dane. 

#### PrzykÅ‚ad ataku XXE:

Na przykÅ‚ad osoba atakujÄ…ca moÅ¼e wykonaÄ‡ nastÄ™pujÄ…ce Å¼Ä…danie przy uÅ¼yciu identyfikatora URI wskazujÄ…cego na poufny plik na serwerze. JeÅ›li parser XML jest skonfigurowany do przetwarzania jednostek zewnÄ™trznych, serwer WWW zwrÃ³ci zawartoÅ›Ä‡ tego pliku.

<p align="center">
  Rys.2.1.13.2. ProÅ›ba o doÅ‚Ä…czenie
<br>
  <img src="\assets\img\Cyber\25.png" width="650" alt="xxe-1">
  <br>
  Å¹rÃ³dÅ‚o: https://www.imperva.com/learn/wp-content/uploads/sites/13/2023/01/Screen-Shot-2023-01-30-at-14.27.42.png.webp
</p>


<p align="center">
  Rys.2.1.13.3. OdpowiedÅº
<br>
  <img src="\assets\img\Cyber\26.png" width="650" alt="xxe-2">
  <br>
  Å¹rÃ³dÅ‚o: https://www.imperva.com/learn/wp-content/uploads/sites/13/2023/01/Screen-Shot-2023-01-30-at-14.34.18.png.webp
</p>


### Remote File Inclusion (RFI)

Remote File Inclusion â€“ to atak ukierunkowany na luki w aplikacjach internetowych, ktÃ³re dynamicznie odwoÅ‚ujÄ… siÄ™ do zewnÄ™trznych skryptÃ³w. Celem sprawcy jest wykorzystanie funkcji odwoÅ‚ywania siÄ™ w aplikacji do przesyÅ‚ania zÅ‚oÅ›liwego oprogramowania ze zdalnego adresu URL znajdujÄ…cego siÄ™ w innej domenie.

<p align="center">
  Rys.2.1.13.4. Przebieg ataku RFI
<br>
  <img src="\assets\img\Cyber\27.png" width="650" alt="rfi">
  <br>
  Å¹rÃ³dÅ‚o: https://www.imperva.com/learn/wp-content/uploads/sites/13/2019/01/what-is-rfi-attack.png
</p>

#### PrzykÅ‚ad doÅ‚Ä…czania plikÃ³w zdalnych:

Strona JSP zawiera nastÄ™pujÄ…cy wiersz kodu: 

~~~
<jsp:include page=â€<%=(String)request.getParmeter(â€œParamNameâ€)%>â€>
~~~

ktÃ³rym moÅ¼na manipulowaÄ‡ za pomocÄ… nastÄ™pujÄ…cego Å¼Ä…dania: 

~~~
Page1.jsp?ParamName= /WEB-INF/DB/hasÅ‚o
~~~

przetworzenie Å¼Ä…dania ujawni sprawcy zawartoÅ›Ä‡ pliku z hasÅ‚ami.


### 2.1.15. Local File Inclusion (LFI)

Local File Inclusion to technika ataku polegajÄ…ca na nakÅ‚anianiu aplikacji internetowej do uruchomienia lub ujawnienia plikÃ³w na serwerze WWW. Ataki LFI mogÄ… ujawniÄ‡ poufne informacje, a w powaÅ¼nych przypadkach mogÄ… prowadziÄ‡ do skryptÃ³w krzyÅ¼owych (XSS) i zdalnego wykonania kodu.

<p align="center">
  Rys.2.1.15.1. DziaÅ‚anie ataku LFI
<br>
  <img src="\assets\img\Cyber\28.png" width="650" alt="Lfi">
  <br>
  Å¹rÃ³dÅ‚o: https://miro.medium.com/v2/resize:fit:720/format:webp/1*UPMlwBWgKMSUzSvY5mt5uw.png
</p>

#### PrzykÅ‚ad ataku LFI:
~~~
https://example-site.com/?module=contact.php
~~~

Osoba atakujÄ…ca moÅ¼e zmieniÄ‡ adres URL, aby wyglÄ…daÅ‚ nastÄ™pujÄ…co

~~~
https://example-site.com/?module=/etc/passwd
~~~

A w przypadku braku odpowiedniego filtrowania serwer wyÅ›wietli wraÅ¼liwÄ… zawartoÅ›Ä‡ pliku /etc/passwd. 


### 2.1.16. Directory Travel

Directory Traversal â€“ to luka w zabezpieczeniach sieci WEB, ktÃ³ra umoÅ¼liwia osobie atakujÄ…cej odczytanie dowolnych plikÃ³w na serwerze, na ktÃ³rym dziaÅ‚a aplikacja. 

<p align="center">
  Rys.2.1.16.1. DziaÅ‚anie ataku Directory Travel
<br>
  <img src="\assets\img\Cyber\29.png" width="650" alt="DT">
  <br>
  Å¹rÃ³dÅ‚o: https://portswigger.net/web-security/images/directory-traversal.svg
</p>

#### Odczytywanie dowolnych plikÃ³w poprzez przeglÄ…danie katalogÃ³w

WeÅºmy dla przykÅ‚adu aplikacjÄ™ zakupowÄ…, ktÃ³ra wyÅ›wietla obrazy przedmiotÃ³w na sprzedaÅ¼. Obrazy Å‚adowane za pomocÄ… kodu HTML, jak poniÅ¼ej:

~~~
<img src="/loadImage?filename=218.png">
~~~

Aplikacja czyta z nastÄ™pujÄ…cej Å›cieÅ¼ki: 

~~~
/var/www/images/218.png
~~~

Aplikacja nie implementuje mechanizmÃ³w obronnych przed atakami polegajÄ…cymi na przeglÄ…daniu katalogÃ³w, wiÄ™c osoba atakujÄ…ca moÅ¼e zaÅ¼Ä…daÄ‡ nastÄ™pujÄ…cego adresu URL w celu pobrania dowolnego pliku z systemu plikÃ³w serwera:

~~~
https://insecure-website.com/loadImage?filename=../../../etc/passwd
~~~

Powoduje to, Å¼e aplikacja odczytuje z nastÄ™pujÄ…cej Å›cieÅ¼ki pliku:

~~~
/var/www/images/../../../etc/passwd
~~~

### 2.1.17. Credential Stuffing

Credential Stuffing (ang. upychanie poÅ›wiadczeÅ„) â€“ to metoda, w ktÃ³rej napastnicy wykorzystujÄ… listy przejÄ™tych poÅ›wiadczeÅ„ uÅ¼ytkownika w celu wÅ‚amania siÄ™ do systemu. Atak wykorzystuje boty do automatyzacji i skalowania oraz opiera siÄ™ na zaÅ‚oÅ¼eniu, Å¼e wielu uÅ¼ytkownikÃ³w ponownie uÅ¼ywa nazw uÅ¼ytkownikÃ³w i haseÅ‚ w wielu usÅ‚ugach. 

#### Jak dziaÅ‚ajÄ… ataki polegajÄ…ce na upychaniu poÅ›wiadczeÅ„

Oto typowy proces, po ktÃ³rym przeprowadza siÄ™ atakujÄ…cy w ataku polegajÄ…cym na upychaniu poÅ›wiadczeÅ„ na duÅ¼Ä… skalÄ™. AtakujÄ…cy:
+ Konfiguruje bota, ktÃ³ry moÅ¼e automatycznie logowaÄ‡ siÄ™ rÃ³wnolegle do wielu kont uÅ¼ytkownikÃ³w, jednoczeÅ›nie faÅ‚szujÄ…c rÃ³Å¼ne adresy IP.
+ Uruchamia zautomatyzowany proces sprawdzania, czy skradzione dane uwierzytelniajÄ…ce dziaÅ‚ajÄ… na wielu stronach internetowych. UruchamiajÄ…c proces rÃ³wnolegle w wielu witrynach, zmniejszajÄ…c potrzebÄ™ wielokrotnego logowania siÄ™ do jednej usÅ‚ugi.
+ Monitoruje pomyÅ›lne logowanie i uzyskuje dane osobowe, dane kart kredytowych lub inne cenne dane ze zhakowanych kont.
+ Przechowuje informacje o koncie do wykorzystania w przyszÅ‚oÅ›ci, na przykÅ‚ad w przypadku atakÃ³w typu phishing lub innych transakcji umoÅ¼liwionych przez zaatakowanÄ… usÅ‚ugÄ™.


<p align="center">
  Rys.2.1.17.1. PrzykÅ‚ad ataku
<br>
  <img src="\assets\img\Cyber\30.png" width="650" alt="CS">
  <br>
  Å¹rÃ³dÅ‚o: https://www.imperva.com/learn/wp-content/uploads/sites/13/2020/01/credentials.png.webp
</p>


### 2.1.18. Server-Side Template Injection (SSTI)

Server-Side Template Injection (ang. wstrzykiwanie szablonu po stronie serwera) â€“ atak polegajÄ…cy na wstrzykiwaniu szablonu po stronie serwera ma miejsce, gdy ugrupowanie cyberprzestÄ™pcze wykorzystuje natywnÄ… skÅ‚adniÄ™ szablonu i wstrzykuje do niego zÅ‚oÅ›liwe Å‚adunki. Zaatakowany szablon jest nastÄ™pnie wykonywany po stronie serwera. Silnik szablonÃ³w generuje stronÄ™ internetowÄ…, Å‚Ä…czÄ…c staÅ‚y szablon z niestabilnymi danymi.

AtakujÄ…cy wykorzystujÄ… technikÄ™ wstrzykiwania szablonÃ³w po stronie serwera, aby bezpoÅ›rednio wstawiaÄ‡ dane wejÅ›ciowe uÅ¼ytkownika do szablonÃ³w, co pozwala im na wprowadzanie dowolnych dyrektyw, ktÃ³re zmieniajÄ… zachowanie silnika szablonÃ³w. MoÅ¼e pozwoliÄ‡ cyberprzestÄ™pcom na uzyskanie peÅ‚nej kontroli nad docelowym serwerem.

#### Konstruowanie ataku polegajÄ…cego na wstrzykniÄ™ciu szablonu po stronie serwera

Identyfikacja podatnoÅ›ci na wstrzykniÄ™cie szablonu po stronie serwera i przygotowanie udanego ataku zazwyczaj obejmuje nastÄ™pujÄ…cy proces wysokiego poziomu.

<p align="center">
  Rys.2.1.18.1. Konstruowanie ataku
<br>
  <img src="\assets\img\Cyber\31.png" width="650" alt="SSTI">
  <br>
  Å¹rÃ³dÅ‚o: https://portswigger.net/web-security/images/ssti-methodology-diagram.png
</p>

+ WykryÄ‡
Jak w przypadku kaÅ¼dej luki w zabezpieczeniach, pierwszym krokiem w kierunku wykorzystania jest moÅ¼liwoÅ›Ä‡ jej znalezienia. Najprostszym podejÅ›ciem jest prÃ³ba rozmycia szablonu przez wstrzykniÄ™cie sekwencji znakÃ³w specjalnych powszechnie uÅ¼ywanych w wyraÅ¼eniach szablonÃ³w, takich jak ${{<%[%'"}}%\. JeÅ›li zostanie zgÅ‚oszony wyjÄ…tek, oznacza to, Å¼e wstrzykniÄ™ta skÅ‚adnia szablonu jest potencjalnie w jakiÅ› sposÃ³b interpretowana przez serwer. Jest to jedna z oznak, Å¼e moÅ¼e istnieÄ‡ podatnoÅ›Ä‡ na wstrzykniÄ™cie szablonu po stronie serwera.
+ ZidentyfikowaÄ‡
Po wykryciu potencjaÅ‚u wstrzykniÄ™cia szablonu nastÄ™pnym krokiem jest zidentyfikowanie silnika szablonu. Samo przesÅ‚anie nieprawidÅ‚owej skÅ‚adni jest czÄ™sto wystarczajÄ…ce, poniewaÅ¼ wynikowy komunikat o bÅ‚Ä™dzie powie dokÅ‚adnie, jaki jest silnik szablonu, a czasem nawet, ktÃ³ra wersja. W przeciwnym razie naleÅ¼y przetestowaÄ‡ rÃ³Å¼ne Å‚adunki specyficzne dla jÄ™zyka i zbadaÄ‡, w jaki sposÃ³b sÄ… one interpretowane przez silnik szablonÃ³w. Powszechnym sposobem na sprawdzenie jest wstrzykiwanie dowolnych operacji matematycznych przy uÅ¼yciu skÅ‚adni z rÃ³Å¼nych silnikÃ³w szablonÃ³w. Aby wspomÃ³c ten proces, moÅ¼na uÅ¼yÄ‡ drzewa decyzyjnego podobnego do nastÄ™pujÄ…cych: 

<p align="center">
  Rys.2.1.18.1. Drzewo decyzyjne
<br>
  <img src="\assets\img\Cyber\32.png" width="650" alt="SSTI-1">
  <br>
  Å¹rÃ³dÅ‚o: https://portswigger.net/web-security/images/template-decision-tree.png
</p>

+ WykorzystaÄ‡
Po wykryciu potencjalnej luki w zabezpieczeniach i pomyÅ›lnym zidentyfikowaniu mechanizmu szablonÃ³w moÅ¼na przystÄ…piÄ‡ do poszukiwania sposobÃ³w jego wykorzystania.



### 2.1.19. Business Logic Attack

Ataki na logikÄ™ biznesowÄ… (ang. business logic attacks) to rodzaj cyberatakÃ³w, ktÃ³re polegajÄ… na wykorzystaniu i manipulowaniu procesami i reguÅ‚ami biznesowymi systemÃ³w informatycznych w celu uzyskania nieautoryzowanych korzyÅ›ci. OdrÃ³Å¼niajÄ… siÄ™ one od tradycyjnych atakÃ³w, ktÃ³re skupiajÄ… siÄ™ na podatnoÅ›ciach technicznych, takich jak bÅ‚Ä™dy w oprogramowaniu czy sÅ‚abe zabezpieczenia.

<p align="center">
  Rys.2.1.19.1. DziaÅ‚anie luki w logice biznesowej
<br>
  <img src="\assets\img\Cyber\33.png" width="650" alt="BLA">
  <br>
  Å¹rÃ³dÅ‚o: https://portswigger.net/web-security/images/logic-flaws.jpg
</p>

Celem atakujÄ…cych jest wprowadzenie systemu w stan, w ktÃ³rym bÄ™dzie generowaÅ‚ nieprawidÅ‚owe wyniki lub umoÅ¼liwiaÅ‚ wykonanie dziaÅ‚aÅ„, ktÃ³re normalnie byÅ‚yby niedozwolone. PrzykÅ‚adowo, atakujÄ…cy moÅ¼e prÃ³bowaÄ‡ zmodyfikowaÄ‡ warunki rabatÃ³w w sklepie internetowym, aby uzyskaÄ‡ wyÅ¼sze zniÅ¼ki niÅ¼ przysÅ‚ugujÄ…ce, lub zmieniaÄ‡ parametry transakcji w bankowoÅ›ci elektronicznej, aby manipulowaÄ‡ saldem konta.

#### Jak chroniÄ‡ siÄ™ przed tym atakiem?

Aby chroniÄ‡ siÄ™ przed atakami na logikÄ™ biznesowÄ…, organizacje powinny podjÄ…Ä‡ kilka dziaÅ‚aÅ„. Przede wszystkim naleÅ¼y odpowiednio projektowaÄ‡ i testowaÄ‡ logikÄ™ biznesowÄ…, aby minimalizowaÄ‡ moÅ¼liwoÅ›Ä‡ manipulacji i bÅ‚Ä™dÃ³w. NaleÅ¼y rÃ³wnieÅ¼ wprowadziÄ‡ mechanizmy kontroli i monitorowania, ktÃ³re pozwolÄ… wykryÄ‡ nieprawidÅ‚owoÅ›ci w dziaÅ‚aniu systemu. WaÅ¼ne jest rÃ³wnieÅ¼ szkolenie personelu, aby zwiÄ™kszyÄ‡ Å›wiadomoÅ›Ä‡ zagroÅ¼eÅ„ i umoÅ¼liwiÄ‡ identyfikacjÄ™ podejrzanych aktywnoÅ›ci.

## 2.2. Ataki na warstwie prezentacji

Warstwa prezentacji, zwana takÅ¼e â€warstwÄ… skÅ‚adniâ€, odpowiada za formatowanie i tÅ‚umaczenie danych do formatu okreÅ›lonego przez warstwÄ™ aplikacji. Oznacza to, Å¼e dziaÅ‚a jako translator danych w sieci, aby zapewniÄ‡, Å¼e dane wysyÅ‚ane przez warstwÄ™ aplikacji sÄ… czytelne dla warstwy aplikacji systemu odbierajÄ…cego.

### 2.2.1. Man-in-the-browser (MitB)

Man-in-the-browser (MitB) â€“ jest to atak, w ktÃ³rym sprawca instaluje na komputerze ofiary konia trojaÅ„skiego, ktÃ³ry jest w stanie modyfikowaÄ‡ transakcje internetowe tego uÅ¼ytkownika. Z tej racji, Å¼e ataki tego typu wymagajÄ… zainstalowanego zÅ‚oÅ›liwego oprogramowania trojana na docelowym komputerze, sprawcy czÄ™sto wykorzystujÄ… luki w zabezpieczeniach lub taktyki phishingu, aby zainicjowaÄ‡ atak. Ataki MitB sÄ… przeprowadzane za poÅ›rednictwem skryptu uÅ¼ytkownika, obiektu pomocniczego przeglÄ…darki lub niezabezpieczonego rozszerzenia przeglÄ…darki. 
Atak MitB ma miejsce, gdy ofiara samodzielnie wpisze adres URL w przeglÄ…darce, bez zewnÄ™trznego monitu. 

<p align="center">
  Rys.2.2.1.1. DziaÅ‚anie ataku MitB
<br>
  <img src="\assets\img\Cyber\34.png" width="650" alt="mitb">
  <br>
  Å¹rÃ³dÅ‚o: https://cdn.ttgtmedia.com/rms/onlineimages/a_man_in_the_browser_attack-f_mobile.png
</p>

#### PrzykÅ‚ady atakÃ³w Man-in-the-browser:
+ Zeus to atak MitB, ktÃ³ry kradnie dane logowania do bankowoÅ›ci internetowej i przeprowadza nieautoryzowane transfery Å›rodkÃ³w. ByÅ‚ rÃ³wnieÅ¼ uÅ¼ywany do przeprowadzania oszustw zwiÄ…zanych z pomocÄ… technicznÄ….
+ OddJob to atak MitB przeznaczony do uÅ¼ycia na stronach bankowych. Atak jest instalowany przez przeglÄ…darkÄ™ Firefox lub IE i aktywuje siÄ™, gdy zainfekowany uÅ¼ytkownik otworzy stronÄ™ bankowÄ…. Celem ataku jest token identyfikatora sesji uÅ¼ytkownika w czasie rzeczywistym w celu dokonania transakcji na koncie bankowym. Atak jest trudny do wykrycia, poniewaÅ¼ nie jest przechowywany na dysku urzÄ…dzenia.
+ SpyEye to trojan, ktÃ³ry prosi uÅ¼ytkownika o podanie informacji, takich jak konta bankowe, hasÅ‚a, nazwy uÅ¼ytkownika lub numery kart kredytowych. Atak moÅ¼e rÃ³wnieÅ¼ dziaÅ‚aÄ‡ jako keylogger.

## 2.2.2. Content Spoofing

Content Spoofing (ang. faÅ‚szowanie treÅ›ci) â€“ jest to atak wymierzony w uÅ¼ytkownika, moÅ¼liwy dziÄ™ki luce w zabezpieczeniach aplikacji internetowej. Atak typu Content Spoofing na warstwie prezentacji odnosi siÄ™ do manipulacji zawartoÅ›ciÄ…, ktÃ³ra jest wyÅ›wietlana uÅ¼ytkownikom na stronie internetowej lub aplikacji. Atak ten polega na faÅ‚szowaniu wyglÄ…du strony lub aplikacji w celu uzyskania poufnych informacji od uÅ¼ytkownikÃ³w lub przekierowania ich na zÅ‚oÅ›liwe strony.

### Sposoby ataku Content Spoofing: 
+ FaÅ‚szywe strony internetowe: AtakujÄ…cy moÅ¼e stworzyÄ‡ faÅ‚szywÄ… stronÄ™ internetowÄ…, ktÃ³ra wyglÄ…da jak oryginalna, np. logowanie do konta bankowego. Strona moÅ¼e wykorzystywaÄ‡ podobnÄ… szatÄ™ graficznÄ…, aby zmyliÄ‡ uÅ¼ytkownikÃ³w i skÅ‚oniÄ‡ ich do podania poufnych informacji, takich jak hasÅ‚a czy dane karty kredytowej.
+ Modyfikacja zawartoÅ›ci: AtakujÄ…cy moÅ¼e zmieniaÄ‡ zawartoÅ›Ä‡ wyÅ›wietlanÄ… na stronie lub aplikacji, np. zmieniaÄ‡ treÅ›Ä‡ formularzy, przekierowaÄ‡ na zÅ‚oÅ›liwe strony lub wstrzykiwaÄ‡ zÅ‚oÅ›liwe skrypty. W rezultacie uÅ¼ytkownik moÅ¼e zostaÄ‡ oszukany, wykonujÄ…c nieÅ›wiadomie dziaÅ‚ania, ktÃ³re sÄ… korzystne dla atakujÄ…cego.
+ Spoofing adresu URL: AtakujÄ…cy moÅ¼e manipulowaÄ‡ adresem URL wyÅ›wietlanym w przeglÄ…darce, aby wyglÄ…daÅ‚ jak zaufany serwis, podczas gdy w rzeczywistoÅ›ci uÅ¼ytkownik jest kierowany na zÅ‚oÅ›liwÄ… stronÄ™. To moÅ¼e byÄ‡ szczegÃ³lnie skuteczne w przypadku phishingu, gdzie atakujÄ…cy podszywa siÄ™ pod znane instytucje, takie jak banki czy serwisy spoÅ‚ecznoÅ›ciowe.

## 2.2.3. MIME Sniffing

MIME Sniffing (ang. uniwersalne wÄ…chanie rozszerzeÅ„ poczty internetowej) â€“ to proces automatycznego rozpoznawania typu zawartoÅ›ci pliku na podstawie jego treÅ›ci, a nie jedynie na podstawie nagÅ‚Ã³wkÃ³w HTTP. Jest to funkcjonalnoÅ›Ä‡ czÄ™sto wbudowana w przeglÄ…darki internetowe.

<p align="center">
  Rys.2.2.3.1. DziaÅ‚anie MIME Sniffing
<br>
  <img src="\assets\img\Cyber\35.png" width="650" alt="mime">
  <br>
  Å¹rÃ³dÅ‚o: https://www.keycdn.com/img/support/mime-sniffing-md.webp
</p>

### Jak dziaÅ‚a wykrywanie MIME?
+ PrzeglÄ…darka internetowa Å¼Ä…da okreÅ›lonego zasobu, ktÃ³ry odpowiada bez typu zawartoÅ›ci lub z typem zawartoÅ›ci ustawionym wczeÅ›niej na serwerze ÅºrÃ³dÅ‚owym.
+ PrzeglÄ…darka internetowa â€wÄ™szyâ€ zawartoÅ›Ä‡, aby przeanalizowaÄ‡, w jakim formacie pliku jest ten konkretny zasÃ³b.
+ Po zakoÅ„czeniu analizy przeglÄ…darka porÃ³wnuje to, co znalazÅ‚a, z tym, co serwer WWW podaÅ‚ w nagÅ‚Ã³wku Content-Type. W przypadku niezgodnoÅ›ci przeglÄ…darka uÅ¼ywa typu MIME, ktÃ³ry zostaÅ‚ powiÄ…zany z zasobem.

## 2.2.4. HTML Injection

HTML Injection (ang. wstrzykniÄ™cie HTML) â€“ to technika uÅ¼ywana do wykorzystania niezweryfikowanych danych wejÅ›ciowych do modyfikowania strony internetowej prezentowanej uÅ¼ytkownikom przez aplikacjÄ™ internetowÄ…. AtakujÄ…cy wykorzystujÄ… fakt, Å¼e zawartoÅ›Ä‡ strony internetowej jest czÄ™sto zwiÄ…zana z wczeÅ›niejszÄ… interakcjÄ… z uÅ¼ytkownikiem. Gdy aplikacje nie sprawdzajÄ… poprawnoÅ›ci danych uÅ¼ytkownika, osoba atakujÄ…ca moÅ¼e wysÅ‚aÄ‡ tekst w formacie HTML w celu zmodyfikowania zawartoÅ›ci witryny, ktÃ³ra jest prezentowana innym uÅ¼ytkownikom. Specjalnie spreparowane zapytanie moÅ¼e doprowadziÄ‡ do umieszczenia na stronie internetowej kontrolowanych przez osobÄ™ atakujÄ…cÄ… elementÃ³w HTML, ktÃ³re zmieniajÄ… sposÃ³b, w jaki zawartoÅ›Ä‡ aplikacji jest udostÄ™pniana w sieci.

<p align="center">
  Rys.2.2.4.1. DziaÅ‚anie ataku HTNL Injection
<br>
  <img src="\assets\img\Cyber\36.png" width="650" alt="html">
  <br>
  Å¹rÃ³dÅ‚o: https://assets.website-files.com/5ff66329429d880392f6cba2/6455e1f13e0fb0b257e9ce71_HTML%20Injection%20Work.jpg
</p>

### PrzykÅ‚ad HTML Injection
+ Najpierw atakujÄ…cy znajduje witrynÄ™ podatnÄ… na wstrzykniÄ™cie kodu HTML
+ NastÄ™pnie osoba atakujÄ…ca wysyÅ‚a adres URL ze zÅ‚oÅ›liwym kodem wstrzykniÄ™tym do adresu URL do uÅ¼ytkownika ofiary za poÅ›rednictwem poczty elektronicznej lub innego mechanizmu.
+ JeÅ›li ofiara kliknie ten szkodliwy adres URL, uruchomi kod JavaScript lub VBScript z uprawnieniami uÅ¼ytkownika ofiary.
+ W zaleÅ¼noÅ›ci od wykonywanego kodu moÅ¼e ujawniÄ‡ poufne informacje uÅ¼ytkownika, a nawet skompromitowaÄ‡ komputer ofiary.

## 2.2.5. JavaScript Injection

JavaScript Injection (ang. wstrzykniÄ™cie JavaScript) â€“ atak, ktÃ³ry polega na tym, Å¼e osoba atakujÄ…ca wstrzykuje zÅ‚oÅ›liwy kod bezpoÅ›rednio do kodu JavaScript po stronie klienta. Kod ten jest uruchamiany i renderowany, gdy ofiara Å‚aduje witrynÄ™ ze zÅ‚oÅ›liwym skryptem w swojej aplikacji klienckiej/ przeglÄ…darce. Osoba atakujÄ…ca moÅ¼e polegaÄ‡ na rÃ³Å¼nych technikach wprowadzania zÅ‚oÅ›liwego kodu do podatnej witryny, w tym:
+ UÅ¼ywanie konsoli programisty przeglÄ…darki do wstawiania kodu JavaScript lub zmiany kodu ÅºrÃ³dÅ‚owego
+ Dodanie skryptu poprzez wpisanie elementu JavaScript: SCRIPT do paska adresu klienta
+ UÅ¼ywanie skryptÃ³w miÄ™dzywitrynowych do dodawania skryptÃ³w do pola komentarza lub formularza wejÅ›ciowego

### PrzykÅ‚ady JavaScript Injection
+ Wstrzykiwanie zaleÅ¼noÅ›ci w JavaScript â€“ skierowany jest na platformÄ™ DI (dependency injection), w ktÃ³rej atakujÄ…cy nakÅ‚ania witrynÄ™ do pobrania niestandardowych skryptÃ³w z wybranego repozytorium. Podczas instalowania pakietÃ³w dla aplikacji JavaScript instalatorzy zazwyczaj wybierajÄ… najnowszÄ… wersjÄ™, gdy majÄ… do wyboru dwie wersje tego samego pliku. ZaÅ‚Ã³Å¼my, Å¼e zÅ‚oÅ›liwy uÅ¼ytkownik moÅ¼e uzyskaÄ‡ nazwÄ™ wewnÄ™trznej zaleÅ¼noÅ›ci lub pliku skryptu. W takim przypadku mogÄ… opublikowaÄ‡ zÅ‚oÅ›liwy kod aplikacji o wyÅ¼szym numerze wersji w publicznym repozytorium okreÅ›lanym jako package.json lub inny plik kodu ÅºrÃ³dÅ‚owego. Podczas instalowania pakietÃ³w lub zaleÅ¼noÅ›ci zÅ‚oÅ›liwy kod zostaje wstrzykniÄ™ty do kodu ÅºrÃ³dÅ‚owego aplikacji, gdy instalator aplikacji wybierze zaktualizowanÄ…-zmodyfikowanÄ… wersjÄ™.
+ Atak polegajÄ…cy na wstrzykiwaniu kodu JavaScript â€“ polega na wstrzykiwaniu wykonywalnego kodu HTML przez wraÅ¼liwe pole wejÅ›ciowe. Typowe znaczniki uÅ¼ywane do osadzenia kodu HTML w aplikacjach JavaScript to: <SCRIPT>, <OBJECT>, <APPLET>, <EMBED>, <FK>, <LI>, <BR>, <DIV>, <TITLE>
+ Wstrzykiwanie kodu JavaScript â€“ te ataki akceptujÄ… dane wprowadzane przez uÅ¼ytkownika i wykonujÄ… je po stronie serwera. PoniÅ¼szy fragment kodu pokazuje przykÅ‚ad podatnej witryny:

~~~
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Darwin Website</title>
</head><body>
    <input type="button" onclick="randomScript()">
</body>
</html>
~~~

W takim wzorcu kodu osoba atakujÄ…ca moÅ¼e przesÅ‚aÄ‡ zÅ‚oÅ›liwy kod do losowej funkcji randomScript() w celu wdroÅ¼enia detektora zdarzeÅ„. OsiÄ…ga siÄ™ to poprzez zbudowanie niestandardowego skryptu w konsoli zgodnej z JavaScript i JQuery w celu zmiany zdarzenia onclick. Kod bÄ™dzie wyglÄ…daÅ‚ podobnie do:

~~~
function randomScript(){
  alert("Test!");
}
~~~

NastÄ™pnie wszyscy hakerzy muszÄ… sprawdziÄ‡ element przycisku po otwarciu strony internetowej. Daje to hakerowi dostÄ™p do zakÅ‚adki detektorÃ³w zdarzeÅ„, ktÃ³ra wyÅ›wietla kod uruchamiany przez funkcjÄ™ randomScript(). 
+ Wstrzykiwanie kodu JavaScript do kodu SQL â€“ polega na wykorzystywaniu bÅ‚Ä™dÃ³w sprawdzania poprawnoÅ›ci danych wejÅ›ciowych w celu wstrzykniÄ™cia zÅ‚oÅ›liwych zapytaÅ„ SQL do aplikacji. Modyfikuje to oryginalne zapytania do bazy danych, co umoÅ¼liwia atakujÄ…cemu odczytywanie poufnych treÅ›ci, modyfikowanie/usuwanie wpisÃ³w w bazie danych lub zmianÄ™ zachowania serwera.


Aplikacja podatna na ataki moÅ¼e uÅ¼ywaÄ‡ ciÄ…gÃ³w literalnych, aby umieÅ›ciÄ‡ wyszukiwane hasÅ‚o bezpoÅ›rednio w ciÄ…gu kodu, jak pokazano:
~~~
const query = `SELECT * FROM Repository WHERE TAG = '${userQuery}' AND public = 1`;
~~~

Zgodnie z powyÅ¼szÄ… konstrukcjÄ… zapytania, ciÄ…g zapytania SQL do wyszukiwania terminu Darwin byÅ‚by podobny do:
~~~
SELECT * FROM Repository WHERE TAG = 'darwin' AND public = 1;
~~~

Osoba atakujÄ…ca moÅ¼e podaÄ‡ zÅ‚oÅ›liwe wyszukiwane hasÅ‚o darwin' ;â€“, ktÃ³re modyfikuje instrukcjÄ™ SQL w nastÄ™pujÄ…cy sposÃ³b:
~~~
SELECT * FROM Repository WHERE TAG = 'darwin';--' AND public = 1;
~~~

To komentuje kaÅ¼dÄ… czÄ™Å›Ä‡ po â€” znakach, skutecznie pozostawiajÄ…c wykonane polecenie SQL podobne do:
~~~
SELECT * FROM Repository WHERE TAG = 'darwin';
~~~

PoniewaÅ¼ usuwa to dodatkowÄ… klauzulÄ™, ktÃ³ra zapobiega ujawnianiu prywatnych repozytoriÃ³w w odpowiedzi serwera bazy danych, osoba atakujÄ…ca moÅ¼e uzyskaÄ‡ dostÄ™p do kodu ÅºrÃ³dÅ‚owego, plikÃ³w konfiguracyjnych serwera i innych wÅ‚asnoÅ›ci intelektualnych organizacji.

## 2.2.6. Web Scraping

Screen (Web) Scraping (ang. skrobanie sieci) â€“ to proces wykorzystywania botÃ³w do wydobywania treÅ›ci i danych ze strony internetowej. 

W przeciwieÅ„stwie do screen scrapingu, ktÃ³ry kopiuje tylko piksele wyÅ›wietlane na ekranie, web scraping wyodrÄ™bnia leÅ¼Ä…cy u podstaw kod HTML, a wraz z nim dane przechowywane w bazie danych. Skrobak moÅ¼e nastÄ™pnie replikowaÄ‡ caÅ‚Ä… zawartoÅ›Ä‡ witryny w innym miejscu.

### NarzÄ™dzia do scrapingu i boty:

NarzÄ™dzia do skrobania stron internetowych to oprogramowanie (tj. boty) zaprogramowane do przeszukiwania baz danych i wydobywania informacji. Wykorzystywane sÄ… rÃ³Å¼ne typy botÃ³w, z ktÃ³rych wiele moÅ¼na w peÅ‚ni dostosowaÄ‡ do:
+ RozpoznaÄ‡ unikalne struktury witryn HTML
+ WyodrÄ™bniÄ‡ i przeksztaÅ‚Ä‡ zawartoÅ›Ä‡
+ PrzechowaÄ‡ zeskrobane dane
+ WyodrÄ™bniÄ‡ dane z interfejsÃ³w API

<p align="center">
  Rys.2.2.6.1. DziaÅ‚anie Web Scraping
<br>
  <img src="\assets\img\Cyber\37.png" width="650" alt="scraping">
  <br>
  Å¹rÃ³dÅ‚o: https://www.imperva.com/learn/wp-content/uploads/sites/13/2019/01/web-scraping-attack.jpg.webp
</p>

### PrzykÅ‚ady zÅ‚oÅ›liwego web scraping:
+ Skrobanie cen â€“ sprawca wykorzystuje botnet, z ktÃ³rego uruchamia boty typu scraper w celu sprawdzenia konkurencyjnych biznesowych baz danych. Celem jest uzyskanie dostÄ™pu do informacji o cenach, podciÄ™cie konkurencji i zwiÄ™kszenie sprzedaÅ¼y.
+ Skrobanie treÅ›ci â€“ obejmuje kradzieÅ¼ treÅ›ci na duÅ¼Ä… skalÄ™ z danej witryny. Typowe cele obejmujÄ… katalogi produktÃ³w online i strony internetowe, ktÃ³re wykorzystujÄ… treÅ›ci cyfrowe do napÄ™dzania biznesu. W przypadku tych przedsiÄ™biorstw atak polegajÄ…cy na skrobaniu treÅ›ci moÅ¼e byÄ‡ katastrofalny.


## 2.2.7. Code Injection

Wstrzykiwanie kodu (ang. Code Injection) â€“ polega na wstrzykniÄ™ciu kodu do osadzenia zÅ‚oÅ›liwego kodu w kodzie ÅºrÃ³dÅ‚owym, ktÃ³ry aplikacja interpretuje i wykonuje. Podczas zÅ‚oÅ›liwego wstrzykiwania osoby atakujÄ…ce wykorzystujÄ… fakt, Å¼e systemy te konstruujÄ… czÄ™Å›Ä‡ segmentu kodu przy uÅ¼yciu danych zewnÄ™trznych, bez wystarczajÄ…cej weryfikacji danych wejÅ›ciowych. ZÅ‚oÅ›liwy kod jest zwykle tworzony w celu kontrolowania przepÅ‚ywu danych, co prowadzi do utraty poufnoÅ›ci i ograniczenia dostÄ™pnoÅ›ci aplikacji.

AtakujÄ…cy identyfikujÄ… luki w walidacji danych wprowadzanych przez uÅ¼ytkownika, takie jak â€“ format danych, dozwolone znaki i iloÅ›Ä‡ oczekiwanych danych â€“ i wykorzystujÄ… je jako podstawÄ™ do opracowania zÅ‚oÅ›liwego kodu.

<p align="center">
  Rys.2.2.7.1. DziaÅ‚anie ataku Code Injection
<br>
  <img src="\assets\img\Cyber\38.png" width="650" alt="cinjection">
  <br>
  Å¹rÃ³dÅ‚o: https://images.ctfassets.net/4un77bcsnjzw/5biUz7wg0X90MDjKEwVAbm/42283a77ad24497dee3aea2f5c51632d/CodeInjection_Attack.svg
</p>

### Jak dziaÅ‚a Code Injection

Hakerzy najpierw sondujÄ… aplikacjÄ™ pod kÄ…tem powierzchni ataku, ktÃ³re mogÄ… akceptowaÄ‡ niezaufane dane i wykorzystywaÄ‡ je podczas wykonywania kodu programu. ObejmujÄ… one bezpoÅ›rednie dane wejÅ›ciowe, takie jak przesyÅ‚anie plikÃ³w, pola formularzy lub inne ÅºrÃ³dÅ‚a danych, takie jak pliki cookie i parametry ciÄ…gu zapytania.

Wprowadzenie kodu zazwyczaj polega na bezpoÅ›redniej konkatenacji ciÄ…gu znakÃ³w, funkcji PHP eval() lub jej odpowiednika w innym jÄ™zyku. Udany exploit zapewnia atakujÄ…cym dostÄ™p do interpretera aplikacji po stronie serwera. AtakujÄ…cy mogÄ… uÅ¼ywaÄ‡ wywoÅ‚aÅ„ systemowych do uruchamiania poleceÅ„ na serwerze i penetrowaÄ‡ dalej w celu gÅ‚Ä™bszego wykorzystania.

### Rodzaje exploitÃ³w ataku

#### Wstrzykiwanie kodu po stronie klienta

Podczas wstrzykiwania po stronie klienta hakerzy wykorzystujÄ… luki w aplikacjach, w ktÃ³rych sprawdzanie poprawnoÅ›ci danych wejÅ›ciowych odbywa siÄ™ w przeglÄ…darce przed wysÅ‚aniem danych na serwer. Takie ataki obejmujÄ…:
+ Wstrzykiwanie kodu SQL â€“ atakujÄ…cy atakujÄ… wraÅ¼liwe szczegÃ³Å‚y konfiguracji w systemach zarzÄ…dzania relacyjnymi bazami danych, aby kontrolowaÄ‡ serwer bazy danych aplikacji internetowej za pomocÄ… zÅ‚oÅ›liwych instrukcji SQL. Instrukcje te modyfikujÄ… zapytania SQL, dajÄ…c hakerom dostÄ™p do kluczowych danych, takich jak dane logowania i informacje o konfiguracji aplikacji.
+ Wstrzykiwanie kodu Pythona â€“ aplikacje zbudowane w Pythonie, skrypty, ktÃ³re akceptujÄ… wyraÅ¼enia od uÅ¼ytkownikÃ³w i oceniajÄ… ich dane wejÅ›ciowe, mogÄ… byÄ‡ wykorzystywane do wstrzykiwania zÅ‚oÅ›liwego kodu.
+ Wstrzykiwanie kodu HTML â€“ wykorzystanie luk w zabezpieczeniach zwiÄ…zanych z wstrzykniÄ™ciem kodu HTML, aby naruszyÄ‡ sposÃ³b interakcji uÅ¼ytkownikÃ³w z aplikacjÄ… internetowÄ…. RobiÄ…c to, haker wstrzykuje zÅ‚oÅ›liwy kod HTML do zaufanej witryny internetowej, wykonujÄ…c niezaufane skrypty w przeglÄ…darce uÅ¼ytkownika koÅ„cowego.

#### Wstrzykiwanie kodu po stronie serwera

WstrzykniÄ™cie kodu po stronie serwera polega na wykorzystaniu luk w aplikacjach, ktÃ³re sprawdzajÄ… poprawnoÅ›Ä‡ danych wprowadzonych przez uÅ¼ytkownika po stronie serwera. ObejmujÄ… one:
+ Wstrzykiwanie kodu PHP â€“  niektÃ³re aplikacje internetowe zbudowane w jÄ™zyku PHP mogÄ… zawieraÄ‡ niebezpiecznÄ… funkcjÄ™, ktÃ³ra umoÅ¼liwia atakujÄ…cym kontrolÄ™ nad czÄ™Å›ciÄ… lub caÅ‚oÅ›ciÄ… oprogramowania. Te luki umoÅ¼liwiajÄ… hakerom zmianÄ™ przebiegu wykonywania kodu poprzez modyfikacjÄ™ czÄ™Å›ci ciÄ…gu wejÅ›ciowego
+ Wstrzykiwanie kodu JavaScript po stronie serwera â€“ stosunkowo Å‚atwo jest wstawiÄ‡ wÅ‚asny kod Javascript witryny internetowej i uÅ¼yÄ‡ go, znajdujÄ…c lukÄ™ w zabezpieczeniach skryptÃ³w krzyÅ¼owych lub umieszczajÄ…c kod w pasku adresu.


## 2.2.8. Malformed Content Attack 
